/* ==========================================================================
   CART SIDEBAR — Actions bar, order summary, proceed to checkout
   @package Macedon_Ranges
   ========================================================================== */

/* --------------------------------------------------------------------------
   ACTIONS BAR (coupon + update + clear)
   -------------------------------------------------------------------------- */
body.woocommerce-cart table.shop_table.cart td.actions {
	background: var(--color-white, #fff);
	padding: 1.25rem 1.5rem;
	border-top: 1px solid #EDEDED;
}

body.woocommerce-cart table.shop_table.cart td.actions .cart-actions-wrapper {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 1rem;
	flex-wrap: wrap;
}

/* Coupon row */
body.woocommerce-cart table.shop_table.cart td.actions .coupon {
	display: inline-flex;
	align-items: center;
	gap: 0.5rem;
}

body.woocommerce-cart table.shop_table.cart td.actions .coupon label {
	display: none;
}

body.woocommerce-cart table.shop_table.cart td.actions .coupon input[type="text"] {
	min-width: 220px;
	height: 42px;
	padding: 0 1rem;
	border: 1.5px solid #EDEDED;
	border-radius: 4px !important;
	font-size: var(--text-sm, 0.875rem);
	font-family: var(--font-body);
	background: var(--color-white, #fff);
	color: var(--color-text-dark, #212529);
	transition: border-color 0.2s ease;
}

body.woocommerce-cart table.shop_table.cart td.actions .coupon input[type="text"]::placeholder {
	color: #ADB5BD;
}

body.woocommerce-cart table.shop_table.cart td.actions .coupon input[type="text"]:focus {
	outline: none;
	border-color: var(--brand-color);
}

/* Apply / Remove coupon buttons */
body.woocommerce-cart table.shop_table.cart td.actions .coupon button.button,
body.woocommerce-cart table.shop_table.cart td.actions .coupon button.apply-coupon-btn {
	height: 42px;
	padding: 0 1.5rem;
	background: var(--brand-color, #224229);
	color: var(--color-white, #fff);
	border: none;
	border-radius: 4px !important;
	font-size: var(--text-sm, 0.875rem);
	font-weight: 600;
	font-family: var(--font-body);
	cursor: pointer;
	transition: background 0.2s ease, transform 0.2s ease;
	white-space: nowrap;
}

body.woocommerce-cart table.shop_table.cart td.actions .coupon button.button:hover,
body.woocommerce-cart table.shop_table.cart td.actions .coupon button.apply-coupon-btn:hover {
	background: var(--brand-color-hover, #1a3320);
	transform: translateY(-2px);
}

/* Remove coupon — outlined variant */
body.woocommerce-cart table.shop_table.cart td.actions .coupon button.button-remove-coupon {
	background: transparent;
	color: var(--brand-color);
	border: 1.5px solid var(--brand-color) !important;
}

body.woocommerce-cart table.shop_table.cart td.actions .coupon button.button-remove-coupon:hover {
	background: var(--brand-color);
	color: var(--color-white, #fff);
}

/* Right-side action group */
body.woocommerce-cart table.shop_table.cart td.actions .cart-actions-right {
	display: inline-flex;
	align-items: center;
	gap: 0.75rem;
	margin-left: auto;
}

/* Update cart — hidden (auto-update via JS) */
body.woocommerce-cart table.shop_table.cart td.actions button[name="update_cart"],
body.woocommerce-cart table.shop_table.cart td.actions button.update-cart-btn {
	display: none !important;
}

/* Loading overlay on cart form */
body.woocommerce-cart form.woocommerce-cart-form.cart-updating {
	opacity: 0.6;
	pointer-events: none;
}

body.woocommerce-cart form.woocommerce-cart-form.cart-updating::after {
	content: '';
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	width: 34px;
	height: 34px;
	border: 3px solid #EDEDED;
	border-top-color: var(--brand-color);
	border-radius: 50%;
	animation: cart-spin 0.8s linear infinite;
}

@keyframes cart-spin {
	to { transform: translate(-50%, -50%) rotate(360deg); }
}

/* --------------------------------------------------------------------------
   CLEAR CART LINK — Text link with icon, no fill background
   -------------------------------------------------------------------------- */
body.woocommerce-cart .clear-cart-link {
	display: inline-flex;
	align-items: center;
	gap: 0.4rem;
	height: 42px;
	padding: 0 1.25rem;
	background: transparent;
	color: var(--color-text-light, #6C757D);
	border: 1.5px solid #EDEDED;
	border-radius: 4px !important;
	font-size: var(--text-sm, 0.875rem);
	font-weight: 500;
	text-decoration: none;
	cursor: pointer;
	transition: color 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
	white-space: nowrap;
}

body.woocommerce-cart .clear-cart-link svg {
	flex-shrink: 0;
	width: 14px;
	height: 14px;
	stroke: currentColor;
}

body.woocommerce-cart .clear-cart-link:hover {
	color: #DC3545;
	border-color: #DC3545;
	transform: translateY(-2px);
}

/* --------------------------------------------------------------------------
   ORDER SUMMARY SIDEBAR CARD
   -------------------------------------------------------------------------- */
body.woocommerce-cart .cart-collaterals {
	width: 100%;
	max-width: 380px;
}

body.woocommerce-cart .cart_totals {
	width: 100% !important;
	background: var(--color-white, #fff);
	border-radius: 10px;
	border: 1px solid #E5E5E5;
	padding: 1.75rem;
}

/* Hide shipping calculator / radio buttons / destination */
body.woocommerce-cart .cart_totals .woocommerce-shipping-calculator,
body.woocommerce-cart .cart_totals .shipping-calculator-button,
body.woocommerce-cart .cart_totals .shipping-calculator-form,
body.woocommerce-cart .cart_totals .woocommerce-shipping-methods,
body.woocommerce-cart .cart_totals .shipping-destination,
body.woocommerce-cart .cart_totals .woocommerce-shipping-destination {
	display: none !important;
}

/* Heading */
body.woocommerce-cart .cart_totals > h2 {
	font-family: var(--font-heading);
	font-size: 1.25rem;
	font-weight: 700;
	color: var(--color-text-dark, #212529);
	margin-bottom: 1rem;
	padding-bottom: 0.875rem;
	border-bottom: 1px solid #EDEDED;
}

/* --------------------------------------------------------------------------
   TOTALS TABLE
   -------------------------------------------------------------------------- */
body.woocommerce-cart .cart_totals table.shop_table {
	width: 100%;
	border-collapse: collapse;
	background: transparent;
	box-shadow: none;
	margin-bottom: 0;
}

body.woocommerce-cart .cart_totals table.shop_table tbody {
	border: none;
}

body.woocommerce-cart .cart_totals table.shop_table tr {
	display: flex;
	justify-content: space-between;
	align-items: center;
	border: none;
	padding: 0.625rem 0;
	margin: 0;
}

body.woocommerce-cart .cart_totals table.shop_table tr:first-child {
	padding-top: 0;
}

body.woocommerce-cart .cart_totals table.shop_table th,
body.woocommerce-cart .cart_totals table.shop_table td {
	padding: 0;
	border: none;
	background: transparent;
	display: block;
}

body.woocommerce-cart .cart_totals table.shop_table th {
	font-size: var(--text-sm, 0.875rem);
	font-weight: 400;
	color: var(--color-text-light, #6C757D);
	text-align: left;
}

/* All amounts — bold, right-aligned */
body.woocommerce-cart .cart_totals table.shop_table td,
body.woocommerce-cart .cart_totals table.shop_table td *,
body.woocommerce-cart .cart_totals table.shop_table td .woocommerce-Price-amount,
body.woocommerce-cart .cart_totals table.shop_table td .woocommerce-Price-amount *,
body.woocommerce-cart .cart_totals table.shop_table td bdi,
body.woocommerce-cart .cart_totals table.shop_table td span {
	font-size: var(--text-sm, 0.875rem);
	font-weight: 700 !important;
	text-align: right;
	color: var(--color-text-dark, #212529);
}

/* Tax — muted when $0 */
body.woocommerce-cart .cart_totals tr.tax-total td .woocommerce-Price-amount,
body.woocommerce-cart .cart_totals tr.tax-rate td .woocommerce-Price-amount,
body.woocommerce-cart .cart_totals tr.tax-total td .woocommerce-Price-amount *,
body.woocommerce-cart .cart_totals tr.tax-rate td .woocommerce-Price-amount * {
	color: #ADB5BD !important;
}

/* No-coupon row — muted */
body.woocommerce-cart .cart_totals .cart-discount.no-coupon td,
body.woocommerce-cart .cart_totals .cart-discount.no-coupon td * {
	color: #ADB5BD !important;
}

/* --------------------------------------------------------------------------
   ORDER TOTAL ROW
   -------------------------------------------------------------------------- */
body.woocommerce-cart .cart_totals table.shop_table tr.order-total {
	border-top: 1px solid #EDEDED !important;
	padding: 0.875rem 0 0 !important;
	margin-top: 0.625rem;
}

body.woocommerce-cart .cart_totals tr.order-total th {
	font-size: 1rem !important;
	font-weight: 700 !important;
	color: var(--color-text-dark, #212529) !important;
}

body.woocommerce-cart .cart_totals tr.order-total td,
body.woocommerce-cart .cart_totals tr.order-total td *,
body.woocommerce-cart .cart_totals tr.order-total td strong,
body.woocommerce-cart .cart_totals tr.order-total td .woocommerce-Price-amount,
body.woocommerce-cart .cart_totals tr.order-total td .woocommerce-Price-amount *,
body.woocommerce-cart .cart_totals tr.order-total td bdi {
	font-size: 1.125rem !important;
	font-weight: 700 !important;
	color: var(--color-text-dark, #212529) !important;
}

/* --------------------------------------------------------------------------
   PROCEED TO CHECKOUT BUTTON
   -------------------------------------------------------------------------- */
body.woocommerce-cart .wc-proceed-to-checkout {
	margin-top: 1rem;
}

body.woocommerce-cart .wc-proceed-to-checkout a.checkout-button {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 0.5rem;
	width: 100%;
	min-height: 48px;
	padding: 0.625rem 1.5rem;
	background: var(--brand-color, #224229);
	color: var(--color-white, #fff) !important;
	border: none;
	border-radius: 4px !important;
	font-family: var(--font-body);
	font-size: var(--text-sm, 0.875rem);
	font-weight: 700;
	text-align: center;
	text-decoration: none;
	cursor: pointer;
	letter-spacing: 0.03em;
	text-transform: uppercase;
	transition: background 0.2s ease, transform 0.2s ease;
}

/* Credit card icon */
body.woocommerce-cart .wc-proceed-to-checkout a.checkout-button::before {
	content: '';
	display: inline-block;
	width: 16px;
	height: 16px;
	flex-shrink: 0;
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='1' y='4' width='22' height='16' rx='2' ry='2'/%3E%3Cline x1='1' y1='10' x2='23' y2='10'/%3E%3C/svg%3E");
	background-size: contain;
	background-repeat: no-repeat;
	background-position: center;
}

body.woocommerce-cart .wc-proceed-to-checkout a.checkout-button:hover {
	background: var(--brand-color-hover, #1a3320);
	transform: translateY(-3px);
}

/* --------------------------------------------------------------------------
   MOBILE
   -------------------------------------------------------------------------- */
@media (max-width: 768px) {
	body.woocommerce-cart table.shop_table.cart td.actions .cart-actions-wrapper {
		flex-direction: column;
		align-items: stretch;
	}

	body.woocommerce-cart table.shop_table.cart td.actions .coupon {
		width: 100%;
		flex-direction: column;
	}

	body.woocommerce-cart table.shop_table.cart td.actions .coupon input[type="text"],
	body.woocommerce-cart table.shop_table.cart td.actions .coupon button {
		width: 100%;
	}

	body.woocommerce-cart table.shop_table.cart td.actions .cart-actions-right {
		width: 100%;
		flex-direction: column;
		margin-left: 0;
	}

	body.woocommerce-cart .clear-cart-link {
		width: 100%;
		justify-content: center;
	}
}