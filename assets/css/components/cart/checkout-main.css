/* ==========================================================================
   CHECKOUT PAGE — Main layout, progress bar, sections, select2, responsive
   @package Macedon_Ranges
   ========================================================================== */

/* --------------------------------------------------------------------------
   PAGE ROOT
   -------------------------------------------------------------------------- */
body.woocommerce-checkout {
	background: var(--color-bg-secondary, #F8F9FA);
}

body.woocommerce-checkout #main.site-main,
body.woocommerce-checkout #main.site-main .content-area,
body.woocommerce-checkout #main.site-main article.page {
	padding: 0;
	margin: 0;
}

body.woocommerce-checkout #main.site-main .container {
	max-width: 1410px;
	margin: 0 auto;
	padding: 0 var(--container-padding);
	padding-bottom: var(--space-6);
}

/* --------------------------------------------------------------------------
   BREADCRUMB
   -------------------------------------------------------------------------- */
body.woocommerce-checkout .woocommerce-breadcrumb,
body.woocommerce-checkout nav.woocommerce-breadcrumb {
	display: flex !important;
	align-items: center !important;
	justify-content: flex-start !important;
	margin: var(--space-4, 1rem) 0 var(--space-6, 1.5rem) !important;
	text-align: left !important;
}

/* --------------------------------------------------------------------------
   PAGE HEADER
   -------------------------------------------------------------------------- */
body.woocommerce-checkout #main.site-main .entry-header {
	text-align: center;
	margin-top: 0;
	margin-bottom: -70px;
	padding: 0.5rem 0 0;
	background: transparent;
}

body.woocommerce-checkout #main.site-main .entry-header .entry-title,
body.woocommerce-checkout #main.site-main article .entry-title {
	font-family: var(--font-heading);
	font-size: 2.5rem;
	font-weight: 700;
	color: var(--color-text-dark, #212529);
	margin-top: -105px;
	margin-bottom: var(--space-5);
}

/* --------------------------------------------------------------------------
   PROGRESS STEPS
   -------------------------------------------------------------------------- */
body.woocommerce-checkout .woocommerce-checkout-progress,
body.woocommerce-order-received .woocommerce-checkout-progress {
	width: 100%;
	margin: 0 auto 2rem;
	padding: 2rem 0 0;
	text-align: center;
	position: relative;
	z-index: 1;
}

.checkout-steps {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 0.75rem;
	flex-wrap: wrap;
}

/* Individual step */
.checkout-step {
	display: inline-flex;
	align-items: center;
	gap: 0.5rem;
	padding: 0.5rem 1.125rem;
	border-radius: 4px;
	border: 1.5px solid #EDEDED;
	background: var(--color-white, #fff);
	color: var(--color-text-light, #6C757D);
	font-size: var(--text-sm, 0.875rem);
	font-weight: 500;
	text-decoration: none;
	transition: border-color 0.2s ease, color 0.2s ease;
	cursor: default;
	user-select: none;
}

/* Completed step — clickable */
.checkout-step.completed {
	border-color: var(--brand-color);
	color: var(--brand-color);
	cursor: pointer;
}

.checkout-step.completed:hover {
	background: var(--brand-color);
	color: var(--color-white, #fff);
}

/* Active step */
.checkout-step.active {
	border-color: var(--brand-color);
	background: var(--brand-color);
	color: var(--color-white, #fff);
	font-weight: 700;
}

/* Step number bubble */
.checkout-step .step-number {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 20px;
	height: 20px;
	border-radius: 2px;
	background: rgba(255, 255, 255, 0.25);
	font-size: 0.75rem;
	font-weight: 700;
	flex-shrink: 0;
}

.checkout-step:not(.active):not(.completed) .step-number {
	background: #EDEDED;
	color: var(--color-text-light, #6C757D);
}

.checkout-step.completed .step-number {
	background: rgba(34, 66, 41, 0.12);
	color: var(--brand-color);
}

.checkout-step.completed:hover .step-number {
	background: rgba(255, 255, 255, 0.25);
	color: var(--color-white, #fff);
}

/* Arrow connector */
.step-arrow {
	color: #D1D5DB;
	flex-shrink: 0;
}

/* --------------------------------------------------------------------------
   TWO-COLUMN GRID
   -------------------------------------------------------------------------- */
.checkout-wrapper {
	width: 100%;
}

.checkout-container {
	display: grid;
	grid-template-columns: 1fr;
	gap: 1.5rem;
	align-items: start;
	margin-top: 2rem;
}

@media (min-width: 1024px) {
	.checkout-container {
		grid-template-columns: 1fr 400px;
		gap: 2rem;
	}
}

/* --------------------------------------------------------------------------
   CHECKOUT SECTIONS — left column cards
   -------------------------------------------------------------------------- */
.checkout-section {
	background: var(--color-white, #fff);
	border-radius: 10px;
	padding: 1.5rem;
	margin-bottom: 1.25rem;
	border: 1px solid #E5E5E5;
}

.checkout-section:last-child {
	margin-bottom: 0;
}

/* Section titles — scoped to checkout context */
body.woocommerce-checkout .section-title,
.checkout-section .section-title,
.checkout-sidebar .section-title {
	display: flex;
	align-items: center;
	gap: 0.625rem;
	font-family: var(--font-heading);
	font-size: 1.125rem;
	font-weight: 700;
	color: var(--color-text-dark, #212529);
	margin-bottom: 1.25rem;
	padding-bottom: 0.875rem;
	border-bottom: 1px solid #EDEDED;
}

/* Icon disc — brand-color square, not circle */
.title-icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 30px;
	height: 30px;
	border-radius: 4px;
	background: var(--brand-color);
	color: var(--color-white, #fff);
	flex-shrink: 0;
}

.title-icon svg {
	width: 14px;
	height: 14px;
}

/* Left column */
.checkout-main {
	width: 100%;
}

/* --------------------------------------------------------------------------
   SELECT2 — country/region dropdowns
   -------------------------------------------------------------------------- */
.woocommerce-checkout .select2-container {
	width: 100% !important;
}

.woocommerce-checkout .select2-container .select2-selection--single {
	height: 46px !important;
	border: 1.5px solid #EDEDED !important;
	border-radius: 4px !important;
	background: var(--color-white, #fff) !important;
	transition: border-color 0.2s ease !important;
}

.woocommerce-checkout .select2-container .select2-selection--single .select2-selection__rendered {
	line-height: 43px !important;
	padding-left: 0.875rem !important;
	padding-right: 2.5rem !important;
	color: var(--color-text-dark, #212529) !important;
	font-size: 0.9375rem !important;
}

.woocommerce-checkout .select2-container .select2-selection--single .select2-selection__arrow {
	height: 43px !important;
	right: 0.75rem !important;
	top: 1px !important;
}

.woocommerce-checkout .select2-container .select2-selection--single .select2-selection__arrow b {
	border-color: #6B7280 transparent transparent transparent !important;
	border-width: 5px 5px 0 !important;
	margin-top: -3px !important;
}

.woocommerce-checkout .select2-container--focus .select2-selection--single,
.woocommerce-checkout .select2-container--open .select2-selection--single,
.woocommerce-checkout .select2-container .select2-selection--single:hover {
	border-color: var(--brand-color) !important;
	outline: none !important;
}

.woocommerce-checkout .select2-container .select2-selection--single .select2-selection__placeholder {
	color: #ADB5BD !important;
	font-size: 0.875rem !important;
}

/* Dropdown panel */
.select2-container--default .select2-dropdown {
	border: 1.5px solid #EDEDED !important;
	border-radius: 4px !important;
	margin-top: 3px !important;
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08) !important;
}

.select2-container--default .select2-results__option {
	padding: 0.6rem 0.875rem !important;
	font-size: 0.9375rem !important;
}

.select2-container--default .select2-results__option--highlighted[aria-selected] {
	background-color: var(--brand-color) !important;
	color: var(--color-white, #fff) !important;
}

.select2-search--dropdown .select2-search__field {
	border: 1.5px solid #EDEDED !important;
	border-radius: 4px !important;
	padding: 0.5rem 0.75rem !important;
	font-size: 0.9375rem !important;
}

.select2-search--dropdown .select2-search__field:focus {
	border-color: var(--brand-color) !important;
	outline: none !important;
}

/* --------------------------------------------------------------------------
   MISC WOOCOMMERCE OVERRIDES
   -------------------------------------------------------------------------- */
.woocommerce-shipping-fields {
	display: none;
}

/* Suppress blockUI full-screen overlay on checkout */
body.woocommerce-checkout .blockUI.blockOverlay,
body.woocommerce-checkout .blockUI {
	display: none !important;
	opacity: 0 !important;
	visibility: hidden !important;
}

.woocommerce-checkout.processing:before,
.woocommerce-checkout.processing:after {
	display: none !important;
}

/* --------------------------------------------------------------------------
   RESPONSIVE — TABLET
   -------------------------------------------------------------------------- */
@media (max-width: 1023px) {
	.checkout-container {
		grid-template-columns: 1fr;
	}

	.order-review-wrapper {
		position: static;
	}
}

/* --------------------------------------------------------------------------
   RESPONSIVE — MOBILE
   -------------------------------------------------------------------------- */
@media (max-width: 767px) {
	body.woocommerce-checkout #main.site-main .entry-header {
		margin-top: 0 !important;
		margin-bottom: 0 !important;
	}

	body.woocommerce-checkout #main.site-main .entry-header .entry-title,
	body.woocommerce-checkout #main.site-main article .entry-title {
		font-size: 2rem !important;
		margin-top: 0 !important;
	}

	body.woocommerce-checkout .woocommerce-checkout-progress {
		margin-top: 0 !important;
		margin-bottom: 1.5rem !important;
		padding-top: 1rem !important;
	}

	.checkout-steps {
		gap: 0.5rem;
	}

	.checkout-step {
		padding: 0.4rem 0.875rem;
		font-size: 0.8125rem;
	}

	.checkout-section {
		padding: 1.25rem;
		border-radius: 10px;
	}

	body.woocommerce-checkout .section-title,
	.checkout-section .section-title {
		font-size: 1rem;
	}
}

@media (max-width: 480px) {
	body.woocommerce-checkout #main.site-main .entry-header .entry-title,
	body.woocommerce-checkout #main.site-main article .entry-title {
		font-size: 1.75rem !important;
	}

	.checkout-section {
		padding: 1rem;
	}

	body.woocommerce-checkout .section-title,
	.checkout-section .section-title {
		font-size: 0.9375rem;
		gap: 0.5rem;
	}

	.title-icon {
		width: 26px;
		height: 26px;
	}
}