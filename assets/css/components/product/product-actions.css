/* ============================================
   MODERN PRODUCT ACTIONS - FULLY DYNAMIC
   All colors use CSS variables from customizer
   NO HARDCODED COLORS
   product-actions.css
   ============================================ */

/* CRITICAL FIX: Override form display */
.single-product form.variations_form.cart {
  display: block !important;
}

.single-product form.cart .woocommerce-variation-add-to-cart {
  display: flex !important;
  flex-direction: row !important;
  gap: 1rem !important;
  align-items: center !important;
}

/* ============================================
   PRODUCT PURCHASE GROUP
   Groups quantity and add to cart together
   ============================================ */

.single-product .product-purchase-group {
  display: flex !important;
  flex-direction: column !important;
  align-items: flex-start !important;
  gap: 1rem !important;
  margin: 1rem 0 1.5rem 0 !important;
}

/* === HIDE STOCK FROM PURCHASE GROUP - NOW IN PRODUCT META === */
.single-product .product-purchase-group .stock {
  display: none !important;
}

/* === CART WRAPPER - HORIZONTAL LAYOUT === */
.single-product .product-purchase-group .cart {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  gap: 1rem !important;
  margin: 0 !important;
  width: 100% !important;
}

/* ============================================
   QUANTITY SELECTOR - MODERN ROUNDED STYLE
   ============================================ */

.single-product .quantity {
  display: inline-flex !important;
  width: fit-content !important;
  flex-shrink: 0 !important;
}

.single-product .quantity .quantity-wrapper {
  display: inline-flex !important;
  align-items: center !important;
  border: none !important;
  border-radius: 50px !important;
  overflow: visible !important;
  background: transparent !important;
  transition: all 0.2s ease !important;
  height: 50px !important;
  gap: 0.5rem !important;
}

.single-product .quantity .quantity-wrapper:hover {
  border-color: transparent !important;
}

/* Minus Button - ROUNDED STYLE */
.single-product .quantity-wrapper button.minus,
.single-product .quantity-wrapper .qty-btn.minus {
  width: 40px !important;
  height: 40px !important;
  padding: 0 !important;
  border: none !important;
  border-radius: 50% !important;
  background: var(--color-bg-secondary, #f3f4f6) !important;
  box-shadow: none !important;
  color: var(--color-text, #374151) !important;
  font-size: 1.125rem !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Quantity Input - ROUNDED STYLE */
.single-product .quantity-wrapper input.qty,
.single-product .quantity-wrapper input.input-text.qty,
.single-product .quantity-wrapper input[type="number"].qty {
  width: 90px !important;
  min-width: 90px !important;
  max-width: 90px !important;
  height: 40px !important;
  padding: 0 !important;
  border: 1px solid var(--color-border, #e5e7eb) !important;
  border-radius: 50px !important;
  background: var(--color-white, #ffffff) !important;
  box-shadow: none !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  color: var(--color-text-dark, #1f2937) !important;
  text-align: center !important;
  -moz-appearance: textfield !important;
  appearance: textfield !important;
}

.single-product .quantity-wrapper input.qty::-webkit-inner-spin-button,
.single-product .quantity-wrapper input.qty::-webkit-outer-spin-button {
  -webkit-appearance: none !important;
  margin: 0 !important;
}

.single-product .quantity-wrapper input.qty:focus {
  outline: none !important;
  box-shadow: none !important;
  border-color: var(--color-primary, var(--brand-color)) !important;
}

/* Plus Button - ROUNDED STYLE */
.single-product .quantity-wrapper button.plus,
.single-product .quantity-wrapper .qty-btn.plus {
  width: 40px !important;
  height: 40px !important;
  padding: 0 !important;
  border: none !important;
  border-radius: 50% !important;
  background: var(--color-bg-secondary, #f3f4f6) !important;
  box-shadow: none !important;
  color: var(--color-text, #374151) !important;
  font-size: 1.125rem !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Button Hover States - UPDATED TO PRIMARY COLOR */
.single-product .quantity-wrapper button.minus:hover,
.single-product .quantity-wrapper button.plus:hover {
  background: var(--color-primary, var(--brand-color)) !important;
  box-shadow: none !important;
  color: var(--color-white, #ffffff) !important;
}

/* ============================================
   ADD TO CART BUTTON - LEFT ALIGNED
   ============================================ */

.single-product .product-purchase-group button.single_add_to_cart_button {
  width: auto !important;
  min-width: 240px !important;
  max-width: 240px !important;
  height: 40px !important;
  padding: 0 1.5rem !important;
  background: var(--color-primary, var(--brand-color)) !important;
  color: var(--color-white, #ffffff) !important;
  border: none !important;
  border-radius: 50px !important;
  font-size: 0.9375rem !important;
  font-weight: 700 !important;
  text-transform: none !important;
  letter-spacing: 0.3px !important;
  cursor: pointer !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.5rem !important;
  flex-shrink: 0 !important;
  box-shadow: none !important;
}

/* Add cart icon before button text */
.single-product button.single_add_to_cart_button::before {
  content: "" !important;
  display: inline-block !important;
  width: 18px !important;
  height: 18px !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='9' cy='21' r='1'%3E%3C/circle%3E%3Ccircle cx='20' cy='21' r='1'%3E%3C/circle%3E%3Cpath d='M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6'%3E%3C/path%3E%3C/svg%3E") !important;
  background-size: contain !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
  flex-shrink: 0 !important;
}

.single-product button.single_add_to_cart_button:hover {
  background: var(--color-text-dark, #1f2937) !important;
  box-shadow: none !important;
  transform: none !important;
}

.single-product button.single_add_to_cart_button:active {
  box-shadow: none !important;
}

.single-product button.single_add_to_cart_button:disabled {
  background: var(--color-gray-400, #9ca3af) !important;
  cursor: not-allowed !important;
  transform: none !important;
  box-shadow: none !important;
}

.single-product button.single_add_to_cart_button:disabled::before {
  opacity: 0.5 !important;
}

/* ============================================
   VARIATIONS FORM - LEFT ALIGNED
   ============================================ */

.single-product .variations_form {
  margin: 0 !important;
}

.single-product .variations {
  margin: 0 0 1.5rem 0 !important;
  display: block !important;
}

.single-product .variations tr {
  display: flex !important;
  flex-direction: column !important;
  align-items: flex-start !important;
  margin-bottom: 1rem !important;
}

/* REDUCED MARGIN FOR LAST VARIATION ROW (COLOR) */
.single-product .variations tr:last-child {
  margin-bottom: 0.25rem !important;
}

.single-product .variations .label {
  padding: 0 0 0.5rem 0 !important;
  font-weight: 600 !important;
  color: var(--color-text-dark, #1f2937) !important;
}

.single-product .variations .value {
  padding: 0 !important;
  display: block !important;
  width: 100% !important;
}

.single-product .variations .value select {
  width: 100% !important;
  max-width: 300px !important;
}

/* Color swatches and size buttons container */
.single-product .variations .value .color-swatches,
.single-product .variations .value .size-buttons {
  display: flex !important;
  gap: 0.5rem !important;
  margin-bottom: 0 !important;
}

/* Reset link (Clear button) - HIDDEN */
.single-product .variations .value .reset_variations {
  display: none !important;
}

/* Single variation wrapper - contains quantity + add to cart */
.single-product .single_variation_wrap {
  width: 100% !important;
  margin-top: 0.5rem !important;
  clear: both !important;
}

.single-product .single_variation_wrap .woocommerce-variation {
  margin-bottom: 1rem !important;
}

/* Variations button wrapper - the div that contains qty + button */
/* CRITICAL: Maximum specificity with !important for flex display */
body.single-product .variations_form .woocommerce-variation-add-to-cart.variations_button,
body.single-product .single_variation_wrap .woocommerce-variation-add-to-cart.variations_button,
body.single-product .woocommerce-variation-add-to-cart.variations_button,
body.single-product div.woocommerce-variation-add-to-cart,
.single-product .woocommerce-variation-add-to-cart,
div.woocommerce-variation-add-to-cart {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  gap: 1rem !important;
  width: 100% !important;
  margin-top: 0.5rem !important;
}

body.single-product .woocommerce-variation-add-to-cart .quantity {
  flex-shrink: 0 !important;
}

body.single-product .woocommerce-variation-add-to-cart button.single_add_to_cart_button {
  flex-grow: 0 !important;
  flex-shrink: 0 !important;
}

/* ============================================
   BUY NOW BUTTON (IF EXISTS)
   ============================================ */

.single-product .buy-now-button {
  width: 100% !important;
  height: 54px !important;
  padding: 0 2rem !important;
  background: transparent !important;
  color: var(--color-primary, var(--brand-color)) !important;
  border: 2px solid var(--color-primary, var(--brand-color)) !important;
  border-radius: 10px !important;
  font-size: 1rem !important;
  font-weight: 700 !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.5rem !important;
  margin-top: 0.75rem !important;
}

.single-product .buy-now-button:hover {
  background: rgba(var(--brand-color-rgb, 14, 165, 233), 0.1) !important;
}

/* ============================================
   DELIVERY & TRUST SECTION
   ============================================ */

.single-product .delivery-info {
  padding: 1.25rem !important;
  background: var(--color-bg-secondary, #f9fafb) !important;
  border-radius: 10px !important;
  margin: 1.5rem 0 !important;
}

.single-product .delivery-item {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  padding: 0.75rem 0 !important;
  font-size: 0.875rem !important;
  color: var(--color-text, #374151) !important;
  border-bottom: 1px solid var(--color-border, #e5e7eb) !important;
}

.single-product .delivery-item:last-child {
  border-bottom: none !important;
  padding-bottom: 0 !important;
}

.single-product .delivery-item svg {
  width: 20px !important;
  height: 20px !important;
  color: var(--color-primary, var(--brand-color)) !important;
  flex-shrink: 0 !important;
}

/* ============================================
   SECURE PAYMENT BADGES
   ============================================ */

.single-product .secure-payment {
  margin: 1.5rem 0 !important;
  padding: 1.25rem !important;
  background: var(--color-bg-secondary, #f9fafb) !important;
  border-radius: 10px !important;
}

.single-product .secure-payment-title {
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  color: var(--color-text-dark, #1f2937) !important;
  margin: 0 0 0.75rem 0 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.single-product .secure-payment-title svg {
  width: 18px !important;
  height: 18px !important;
  color: var(--color-success, #10b981) !important;
}

.single-product .payment-methods {
  display: flex !important;
  gap: 0.75rem !important;
  align-items: center !important;
  flex-wrap: wrap !important;
}

.single-product .payment-icon {
  height: 32px !important;
  width: auto !important;
  object-fit: contain !important;
  background: var(--color-white, #ffffff) !important;
  padding: 0.375rem 0.625rem !important;
  border-radius: 6px !important;
  border: 1px solid var(--color-border, #e5e7eb) !important;
}

/* ============================================
   PRODUCT META (WITH STOCK STATUS)
   ============================================ */

.single-product .product_meta {
  margin: 1.5rem 0 0 0 !important;
  padding: 1.25rem !important;
  background: var(--color-bg-secondary, #f9fafb) !important;
  border-radius: 10px !important;
  font-size: 0.875rem !important;
  line-height: 1.8 !important;
}

.single-product .product_meta > span {
  display: block !important;
  margin-bottom: 0.5rem !important;
  color: var(--color-text, #374151) !important;
}

.single-product .product_meta > span:last-child {
  margin-bottom: 0 !important;
}

.single-product .product_meta a {
  color: var(--color-primary, var(--brand-color)) !important;
  text-decoration: none !important;
  font-weight: 500 !important;
  transition: color 0.2s ease !important;
}

.single-product .product_meta a:hover {
  color: var(--color-primary-hover, var(--brand-color-hover)) !important;
  text-decoration: underline !important;
}

/* === STOCK STATUS IN PRODUCT META === */
.single-product .product_meta .stock-wrapper {
  display: block !important;
  margin-bottom: 0.5rem !important;
  font-size: 0.875rem !important;
  line-height: 1.8 !important;
}

.single-product .product_meta .stock-wrapper:last-child {
  margin-bottom: 0 !important;
}

.single-product .product_meta .stock {
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.375rem !important;
  padding: 0 !important;
  border-radius: 0 !important;
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  margin: 0 !important;
  background: transparent !important;
  line-height: 1.8 !important;
}

.single-product .product_meta .stock.in-stock {
  background: transparent !important;
  color: var(--color-primary, var(--brand-color)) !important;
}

.single-product .product_meta .stock.out-of-stock {
  background: transparent !important;
  color: var(--color-danger, #ef4444) !important;
}

/* Add checkmark icon after stock text */
.single-product .product_meta .stock.in-stock::after {
  content: "" !important;
  display: inline-block !important;
  width: 16px !important;
  height: 16px !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2310b981' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E") !important;
  background-size: contain !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
  flex-shrink: 0 !important;
}

.single-product .product_meta .stock::before {
  display: none !important;
}

/* ============================================
   HIDE WOOCOMMERCE VARIATION ELEMENTS
   ============================================ */

.woocommerce-variation,
.woocommerce-variation-availability,
.woocommerce-variation-description,
.woocommerce-variation-price {
  display: none !important;
  position: absolute !important;
  visibility: hidden !important;
  margin: 0 !important;
  padding: 0 !important;
  height: 0 !important;
  width: 0 !important;
  overflow: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

.single-product .woocommerce-variation-availability {
  display: none !important;
}

/* ============================================
   RESPONSIVE - ACTIONS
   ============================================ */

@media (max-width: 991px) {
  .single-product button.single_add_to_cart_button,
  .single-product .buy-now-button {
    height: 50px !important;
    font-size: 0.9375rem !important;
  }

  .single-product .quantity {
    width: fit-content !important;
  }
}

@media (max-width: 767px) {
  /* Stack quantity and add to cart vertically on mobile */
  .single-product .product-purchase-group .cart {
    flex-direction: column !important;
    align-items: stretch !important;
  }

  .single-product .quantity {
    width: 100% !important;
  }

  .single-product .quantity .quantity-wrapper {
    width: 100% !important;
    justify-content: center !important;
  }

  .single-product button.single_add_to_cart_button {
    width: 100% !important;
    max-width: 100% !important;
  }

  .single-product .payment-methods {
    justify-content: flex-start !important;
  }

  .single-product .payment-icon {
    height: 28px !important;
  }
}

/* ============================================
   RESPONSIVE - ACTIONS
   ADD THIS TO THE BOTTOM OF product-actions.css
   Replace the existing @media (max-width: 767px) section
   ============================================ */

@media (max-width: 991px) {
  .single-product button.single_add_to_cart_button,
  .single-product .buy-now-button {
    height: 50px !important;
    font-size: 0.9375rem !important;
  }

  .single-product .quantity {
    width: fit-content !important;
  }
}

@media (max-width: 767px) {
  /* CRITICAL: Override the row layout for mobile */
  .single-product form.cart .woocommerce-variation-add-to-cart,
  body.single-product .variations_form .woocommerce-variation-add-to-cart.variations_button,
  body.single-product .single_variation_wrap .woocommerce-variation-add-to-cart.variations_button,
  body.single-product .woocommerce-variation-add-to-cart.variations_button,
  body.single-product div.woocommerce-variation-add-to-cart,
  .single-product .woocommerce-variation-add-to-cart,
  div.woocommerce-variation-add-to-cart {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 0.75rem !important;
  }
  
  /* Stack quantity and add to cart vertically on mobile */
  .single-product .product-purchase-group .cart {
    flex-direction: column !important;
    align-items: stretch !important;
  }

  /* Quantity selector - fit content with centered controls */
  .single-product .quantity {
    width: 100% !important;
    max-width: 100% !important;
  }

  .single-product .quantity .quantity-wrapper {
    width: 100% !important;
    max-width: 100% !important;
    justify-content: center !important;
    height: 44px !important;
  }
  
  /* Ensure buttons stay compact */
  .single-product .quantity-wrapper button.minus,
  .single-product .quantity-wrapper button.plus {
    width: 36px !important;
    height: 36px !important;
  }
  
  .single-product .quantity-wrapper input.qty {
    width: 80px !important;
    min-width: 80px !important;
    max-width: 80px !important;
    height: 36px !important;
  }

  /* Add to cart button - full width */
  .single-product button.single_add_to_cart_button,
  .single-product .woocommerce-variation-add-to-cart button.single_add_to_cart_button {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 100% !important;
  }

  .single-product .payment-methods {
    justify-content: flex-start !important;
  }

  .single-product .payment-icon {
    height: 28px !important;
  }
}