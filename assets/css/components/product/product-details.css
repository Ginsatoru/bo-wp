/* ============================================
   MODERN PRODUCT DETAILS - FULLY DYNAMIC
   All colors use CSS variables from customizer
   NO HARDCODED COLORS
   ============================================ */

/* === PRODUCT SUMMARY CONTAINER === */
.single-product .summary.entry-summary {
  width: 100% !important;
  padding: 2rem !important;
  margin: 0 !important;
  background: var(--color-white, #ffffff) !important;
  border-radius: 16px !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04) !important;
}

/* === BREADCRUMB/CATEGORY === */
.single-product .posted_in {
  font-size: 0.8125rem !important;
  color: var(--color-text-light, #6b7280) !important;
  margin: 0 0 0.75rem 0 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  font-weight: 500 !important;
}

.single-product .posted_in a {
  color: var(--color-primary, var(--brand-color)) !important;
  text-decoration: none !important;
}

/* === PRODUCT TITLE === */
.single-product .product_title {
  font-size: clamp(1.75rem, 3vw, 2.25rem) !important;
  font-weight: 700 !important;
  color: var(--color-text-dark, #1f2937) !important;
  line-height: 1.2 !important;
  margin: 0 0 1rem 0 !important;
  letter-spacing: -0.02em !important;
}

/* === PRICE SECTION === */
.single-product .price {
  font-size: 2rem !important;
  font-weight: 700 !important;
  color: var(--color-text-dark, #1f2937) !important;
  margin: 0 0 1rem 0 !important;
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  flex-wrap: wrap !important;
  line-height: 1 !important;
}

/* Original Price (Strikethrough) */
.single-product .price del {
  font-size: 1.25rem !important;
  color: var(--color-text-lighter, #9ca3af) !important;
  font-weight: 400 !important;
  text-decoration: line-through !important;
}

.single-product .price del .amount {
  font-size: 1.25rem !important;
}

/* Sale Price */
.single-product .price ins {
  text-decoration: none !important;
  background: none !important;
  color: var(--color-text-dark, #1f2937) !important;
  font-weight: 700 !important;
  font-size: 2rem !important;
}

/* === PRODUCT RATING - FIXED REVIEW COUNT VISIBILITY === */
.single-product .woocommerce-product-rating {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  margin: 0 0 1.5rem 0 !important;
  padding-bottom: 1.5rem !important;
  border-bottom: 1px solid var(--color-border, #e5e7eb) !important;
}

.single-product .star-rating {
  display: inline-flex !important;
  align-items: center !important;
  font-size: 1rem !important;
  color: var(--color-woo-rating, #fbbf24) !important;
  position: relative !important;
}

.single-product .star-rating::before {
  color: var(--color-border, #e5e7eb) !important;
}

.single-product .star-rating span::before {
  color: var(--color-woo-rating, #fbbf24) !important;
}

/* CRITICAL FIX: Review Count Link Visibility */
.single-product .woocommerce-review-link {
  font-size: 0.9375rem !important;
  color: var(--color-text, #374151) !important;
  text-decoration: none !important;
  transition: color 0.2s ease !important;
  font-weight: 500 !important;
  opacity: 1 !important;
  visibility: visible !important;
}

.single-product .woocommerce-review-link:hover {
  color: var(--color-primary, var(--brand-color, #0ea5e9)) !important;
  text-decoration: underline !important;
}

/* Additional specificity for review count text */
.single-product .woocommerce-product-rating .woocommerce-review-link,
.single-product div.product .woocommerce-review-link {
  color: var(--color-text, #374151) !important;
  opacity: 1 !important;
}

/* === SHORT DESCRIPTION === */
.single-product .woocommerce-product-details__short-description {
  font-size: 0.9375rem !important;
  line-height: 1.7 !important;
  color: var(--color-text, #374151) !important;
  margin: 0 0 1rem 0 !important;
  padding: 0 !important;
  background: none !important;
  border: none !important;
}

.single-product .woocommerce-product-details__short-description p {
  margin: 0 0 0.5rem 0 !important;
}

/* ============================================
   COLOR VARIATIONS - CIRCULAR SWATCHES
   ============================================ */

.single-product .variations_form {
  margin: 0 0 1rem 0 !important;
}

.single-product .variations {
  margin: 0 !important;
  border: none !important;
}

.single-product .variations tr {
  display: flex !important;
  flex-direction: column !important;
  margin-bottom: 1rem !important;
}

.single-product .variations .label {
  display: block !important;
  margin-bottom: 0.5rem !important;
  padding: 0 !important;
}

.single-product .variations .label label {
  font-size: 0.9375rem !important;
  font-weight: 600 !important;
  color: var(--color-text-dark, #1f2937) !important;
  margin: 0 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.single-product .variations .value {
  padding: 0 !important;
}

/* Color Selector - Modern Circular Style */
.single-product .variations select[id*="color"],
.single-product .variations .variation-selector[data-attribute*="color"] {
  display: none !important; /* Hide default select, we'll use custom */
}

/* Custom Color Swatches Container */
.single-product .color-swatches {
  display: flex !important;
  gap: 0.5rem !important;
  flex-wrap: wrap !important;
  align-items: center !important;
  margin-left: 0.4rem !important;
}

.single-product .color-swatch,
.single-product .color-swatches .color-swatch,
.variations .color-swatch {
  width: 32px !important;
  height: 32px !important;
  border-radius: 50% !important;
  border: 2px solid transparent !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  position: relative !important;
  overflow: hidden !important;
}

.single-product .color-swatch:hover,
.single-product .color-swatches .color-swatch:hover,
.variations .color-swatch:hover,
div.color-swatch:hover,
.color-swatches div.color-swatch:hover {
  transform: scale(1.1) !important;
  box-shadow: none !important;
  cursor: pointer !important;
  z-index: 2 !important;
}

/* Prevent hover on selected to avoid double effect */
.single-product .color-swatch.selected:hover,
.single-product .color-swatches .color-swatch.selected:hover,
.variations .color-swatch.selected:hover,
div.color-swatch.selected:hover,
.color-swatches div.color-swatch.selected:hover {
  transform: scale(1.1) !important;
  box-shadow: none !important;
}

/* FIXED: Maximum specificity to override any brand color border */
.single-product .color-swatch.selected,
.single-product .color-swatches .color-swatch.selected,
.variations .color-swatch.selected,
div.color-swatch.selected,
.color-swatches div.color-swatch.selected {
  border: 2px solid rgba(0, 0, 0, 0.6) !important;
  box-shadow: none !important;
  transform: scale(1.05) !important;
}

/* ============================================
   SIZE SELECTOR - MODERN CHIP STYLE (UPDATED)
   ============================================ */

.single-product .variations select[id*="size"],
.single-product .variations .variation-selector[data-attribute*="size"] {
  display: none !important; /* Hide default select */
}

/* Custom Size Buttons Container */
.single-product .size-buttons {
  display: flex !important;
  gap: 0.5rem !important;
  flex-wrap: wrap !important;
  margin-bottom: 0.5rem !important;
}

.single-product .size-button {
  min-width: 50px !important;
  padding: 0.35rem 0.875rem !important;
  border: none !important;
  border-radius: 6px !important;
  background: var(--color-bg-secondary, #d1d5db) !important;
  color: var(--color-text, #374151) !important;
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  text-align: center !important;
  box-shadow: none !important;
}

.single-product .size-button:hover {
  background: var(--color-primary, var(--brand-color)) !important;
  color: var(--color-white, #ffffff) !important;
}

.single-product .size-button.selected {
  background: var(--color-primary, var(--brand-color)) !important;
  color: var(--color-white, #ffffff) !important;
}

.single-product .size-button:disabled {
  opacity: 0.3 !important;
  cursor: not-allowed !important;
  text-decoration: line-through !important;
}

/* Size Chart Link */
.single-product .size-chart-link {
  font-size: 0.875rem !important;
  color: var(--color-primary, var(--brand-color)) !important;
  text-decoration: underline !important;
  cursor: pointer !important;
  font-weight: 500 !important;
}

/* === STANDARD VARIATION SELECT (Fallback) === */
.single-product .variations select {
  width: 100% !important;
  padding: 0.875rem 2.5rem 0.875rem 1rem !important;
  border: 2px solid var(--color-border, #e5e7eb) !important;
  border-radius: 10px !important;
  font-size: 0.9375rem !important;
  font-weight: 500 !important;
  color: var(--color-text, #374151) !important;
  background-color: var(--color-white, #ffffff) !important;
  background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L6 6L11 1' stroke='%236b7280' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: right 1rem center !important;
  background-size: 12px !important;
  appearance: none !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.single-product .variations select:hover {
  border-color: var(--color-primary, var(--brand-color)) !important;
}

.single-product .variations select:focus {
  border-color: var(--color-primary, var(--brand-color)) !important;
  outline: none !important;
  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb, var(--brand-color-rgb)), 0.1) !important;
}

/* === RESET VARIATIONS (CLEAR BUTTON) - FIXED WIDTH === */
.single-product .reset_variations,
.single-product .variations .value .reset_variations,
.single-product a.reset_variations {
  display: inline-flex !important;
  width: auto !important;
  max-width: fit-content !important;
  align-items: center !important;
  gap: 0.375rem !important;
  margin: 0.75rem 0 !important;
  margin-top: 0.75rem !important;
  margin-bottom: 0.75rem !important;
  padding: 0.375rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: var(--color-text-light, #6b7280) !important;
  text-decoration: none !important;
  border: 1px solid var(--color-border, #e5e7eb) !important;
  border-radius: 8px !important;
  background: var(--color-white, #ffffff) !important;
  transition: all 0.2s ease !important;
}

.single-product .reset_variations:hover,
.single-product .variations .value .reset_variations:hover,
.single-product a.reset_variations:hover {
  color: var(--color-primary, var(--brand-color)) !important;
  border-color: var(--color-primary, var(--brand-color)) !important;
  background: rgba(var(--color-primary-rgb, var(--brand-color-rgb)), 0.05) !important;
}

/* ============================================
   RESPONSIVE - DETAILS
   ============================================ */

@media (max-width: 991px) {
  .single-product .summary.entry-summary {
    padding: 1.5rem !important;
  }

  .single-product .product_title {
    font-size: 1.75rem !important;
  }

  .single-product .price {
    font-size: 1.75rem !important;
  }
}

@media (max-width: 767px) {
  .single-product .summary.entry-summary {
    padding: 1.25rem !important;
  }

  .single-product .product_title {
    font-size: 1.5rem !important;
  }

  .single-product .price {
    font-size: 1.5rem !important;
  }

  .single-product .size-buttons {
    gap: 0.5rem !important;
  }

  .single-product .size-button {
    min-width: 50px !important;
    padding: 0.625rem 1rem !important;
  }
}

/* Disabled color swatch styles */
.color-swatch.disabled {
    opacity: 0.4;
    cursor: not-allowed;
    position: relative;
}

.color-swatch.disabled::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(45deg);
    width: 2px;
    height: 100%;
    background-color: #ef4444;
}