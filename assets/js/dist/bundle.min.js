class MRAnimations{constructor(){this.config={threshold:.15,rootMargin:"0px 0px -50px 0px",once:!0},this.init()}init(){this.initHeaderAnimations(),document.body.classList.contains("animations-enabled")&&(this.initScrollAnimations(),this.initBackToTop(),this.initCountdowns())}initHeaderAnimations(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{this.animateHeaderElements()}):this.animateHeaderElements()}animateHeaderElements(){document.querySelectorAll(".site-header [data-animate]").forEach(e=>{const t=parseInt(e.dataset.animateDelay)||0;setTimeout(()=>{e.classList.add("animated"),e.addEventListener("animationend",()=>{e.style.willChange="auto"},{once:!0})},t)})}initScrollAnimations(){if(!("IntersectionObserver"in window))return void document.querySelectorAll("[data-animate]").forEach(e=>{e.style.opacity="1"});const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(this.animateElement(t.target),this.config.once&&e.unobserve(t.target))})},this.config);document.querySelectorAll("[data-animate]").forEach(t=>{t.closest(".site-header")||e.observe(t)})}animateElement(e){const t=parseInt(e.dataset.animateDelay)||0;setTimeout(()=>{e.classList.add("animated"),e.addEventListener("animationend",()=>{e.style.willChange="auto"},{once:!0})},t)}initBackToTop(){const e=document.querySelector(".back-to-top");if(!e)return;let t=!1;const o=()=>{t||(window.requestAnimationFrame(()=>{window.pageYOffset>300?e.classList.add("visible"):e.classList.remove("visible"),t=!1}),t=!0)};window.addEventListener("scroll",o,{passive:!0}),o(),e.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})}initCountdowns(){const e=document.querySelectorAll(".countdown-timer");e.length&&e.forEach(e=>{const t=e.dataset.endDate;t&&this.startCountdown(e,new Date(t).getTime())})}startCountdown(e,t){const o=()=>{const o=Date.now(),n=t-o;if(n<0)return void(e.innerHTML='<div class="countdown-expired">Offer expired</div>');const i=Math.floor(n/864e5),s=Math.floor(n%864e5/36e5),a=Math.floor(n%36e5/6e4),r=Math.floor(n%6e4/1e3),c=e.querySelector(".countdown-value.days"),l=e.querySelector(".countdown-value.hours"),d=e.querySelector(".countdown-value.minutes"),u=e.querySelector(".countdown-value.seconds");c&&(c.textContent=String(i).padStart(2,"0")),l&&(l.textContent=String(s).padStart(2,"0")),d&&(d.textContent=String(a).padStart(2,"0")),u&&(u.textContent=String(r).padStart(2,"0"))};o(),setInterval(o,1e3)}static showNotification(e,t="info",o=3e3){const n=document.createElement("div");n.className=`cart-message cart-message--${t}`,n.innerHTML=`\n            <div class="cart-message__content">\n                <span>${e}</span>\n                <button class="cart-message__close" aria-label="Close">&times;</button>\n            </div>\n        `,document.body.appendChild(n),n.offsetHeight,n.classList.add("visible");const i=()=>{n.classList.remove("visible"),setTimeout(()=>n.remove(),300)};n.querySelector(".cart-message__close").addEventListener("click",i),o>0&&setTimeout(i,o)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>new MRAnimations):new MRAnimations,window.MRAnimations=MRAnimations;class CartManager{constructor(){this.ajaxUrl=this.getAjaxUrl(),this.nonce=this.getNonce(),this.isEmptyCart=this.checkIfEmptyCart(),this.init()}getAjaxUrl(){return"undefined"!=typeof mr_ajax&&mr_ajax.url?mr_ajax.url:"undefined"!=typeof mr_ajax&&mr_ajax.ajax_url?mr_ajax.ajax_url:"undefined"!=typeof mrTheme&&mrTheme.ajaxUrl?mrTheme.ajaxUrl:"undefined"!=typeof wc_add_to_cart_params&&wc_add_to_cart_params.ajax_url?wc_add_to_cart_params.ajax_url:"/wp-admin/admin-ajax.php"}getNonce(){return"undefined"!=typeof mr_ajax&&mr_ajax.nonce?mr_ajax.nonce:"undefined"!=typeof mrTheme&&mrTheme.nonce?mrTheme.nonce:""}checkIfEmptyCart(){return!!this.isCartPage()&&(null!==document.querySelector(".cart-empty-wrapper")||null!==document.querySelector(".wc-empty-cart-message")||null!==document.querySelector(".cart-empty"))}init(){this.bindEvents(),this.bindWooCommerceEvents(),this.handleCouponErrors(),this.isEmptyCart&&this.isCartPage()&&this.preventFragmentUpdates()}handleCouponErrors(){"undefined"!=typeof jQuery&&(jQuery(document).on("click",'.coupon button[name="apply_coupon"]',e=>{if(!jQuery('input[name="coupon_code"]').val().trim())return e.preventDefault(),this.showMessage("Please enter a coupon code.","error"),!1}),jQuery(document.body).on("updated_wc_div",()=>{this.checkAndConvertCouponErrors()}),setTimeout(()=>{this.checkAndConvertCouponErrors()},100))}checkAndConvertCouponErrors(){document.querySelectorAll(".woocommerce-error, .woocommerce-message, .woocommerce-info").forEach(e=>{const t=e.textContent.trim();if(t.toLowerCase().includes("coupon")||t.toLowerCase().includes("code")||e.querySelector('a[href*="cart"]')){const o=t.replace(/×/g,"").trim();let n="info";e.classList.contains("woocommerce-error")?n="error":e.classList.contains("woocommerce-message")&&(n="success"),this.showMessage(o,n),e.style.display="none",e.remove()}})}preventFragmentUpdates(){if("undefined"!=typeof jQuery){const e=jQuery.fn.trigger;jQuery.fn.trigger=function(t){return"wc_fragment_refresh"!==t&&"wc_fragments_refreshed"!==t&&"wc_fragments_loaded"!==t||!document.body.classList.contains("cart-is-empty")?e.apply(this,arguments):this}}}bindEvents(){document.addEventListener("click",e=>{const t=e.target.closest(".add-to-cart-button, .product-card__add-to-cart");t&&!t.classList.contains("ajax_add_to_cart")&&(e.preventDefault(),this.addToCart(t))}),document.addEventListener("click",e=>{const t=e.target.closest("a.remove");t&&this.isCartPage()&&(e.preventDefault(),e.stopPropagation(),this.removeFromCartPage(t))},!0),document.addEventListener("click",e=>{const t=e.target.closest(".cart-item-remove");t&&(e.preventDefault(),e.stopPropagation(),this.removeFromCart(t))},!0),document.addEventListener("change",e=>{if(e.target.classList.contains("qty")){const t=this.getCartItemKeyFromInput(e.target);t&&this.updateQuantity(e.target,t)}})}getCartItemKeyFromInput(e){const t=e.getAttribute("name");if(!t)return null;const o=t.match(/cart\[([^\]]+)\]\[qty\]/);return o?o[1]:null}bindWooCommerceEvents(){"undefined"!=typeof jQuery?(jQuery(document.body).on("added_to_cart",(e,t,o,n)=>{if(this.isEmptyCart&&this.isCartPage())return e.stopImmediatePropagation(),setTimeout(()=>{window.location.reload()},5500),!1;this.updateFragments(t),this.showMessage("Product added to cart!","success")}),jQuery(document.body).on("removed_from_cart",(e,t,o)=>{t&&this.updateFragments(t)}),jQuery(document.body).on("wc_fragments_refreshed",()=>{this.isEmptyCart&&this.isCartPage()||this.updateCartCountVisibility()})):console.warn("jQuery not available for WooCommerce events")}isCartPage(){return document.body.classList.contains("woocommerce-cart")}async removeFromCartPage(e){const t=e.getAttribute("href");if(!t)return void console.error("No remove URL found");const o=e.closest("tr");o&&(o.style.opacity="0.5",o.style.pointerEvents="none");try{const e=await fetch(t,{method:"GET",credentials:"same-origin"});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);if(document.querySelectorAll(".woocommerce-cart-form__cart-item").length<=1)return this.showMessage("Item removed from cart.","info"),void setTimeout(()=>{window.location.reload()},500);window.location.reload()}catch(e){console.error("Remove from cart error:",e),this.showMessage("Failed to remove item. Please try again.","error"),o&&(o.style.opacity="1",o.style.pointerEvents="")}}async addToCart(e){const t=e.dataset.product_id||e.dataset.productId||e.value,o=e.dataset.quantity||1;if(!t)return void console.error("No product ID found");e.classList.add("loading");const n=e.innerHTML;e.disabled=!0;try{if("undefined"==typeof wc_add_to_cart_params)throw new Error("WooCommerce not properly initialized");const n=new FormData;n.append("product_id",t),n.append("quantity",o);const i=await fetch(wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),{method:"POST",body:n}),s=await i.json();if(s.error&&s.product_url)return void(window.location.href=s.product_url);if(s.fragments){if(this.showMessage("Product added to cart!","success"),this.isEmptyCart&&this.isCartPage())return void setTimeout(()=>{window.location.reload()},2500);this.updateFragments(s.fragments),"undefined"!=typeof jQuery&&jQuery(document.body).trigger("added_to_cart",[s.fragments,s.cart_hash,jQuery(e)])}}catch(e){console.error("Add to cart error:",e),this.showMessage("Failed to add product to cart. Please try again.","error")}finally{this.isEmptyCart&&this.isCartPage()||(e.classList.remove("loading"),e.disabled=!1,e.innerHTML=n)}}async removeFromCart(e){const t=e.dataset.cartItemKey;if(!t)return void console.error("No cart item key found");e.classList.add("loading");const o=e.closest(".cart-dropdown-item");o&&(o.style.opacity="0.5",o.style.pointerEvents="none");try{const e=new FormData;e.append("action","remove_cart_item"),e.append("cart_item_key",t),e.append("nonce",this.nonce);const n=await fetch(this.ajaxUrl,{method:"POST",body:e,credentials:"same-origin"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=n.headers.get("content-type");if(!i||!i.includes("application/json"))throw new Error("Response is not JSON");const s=await n.json();if(!s.success)throw new Error(s.data?.message||"Failed to remove item");{s.data.fragments&&this.updateFragments(s.data.fragments),this.updateCartCount(s.data.cart_count),o&&(o.style.transition="all 0.3s ease",o.style.transform="translateX(5%)",o.style.opacity="0",setTimeout(()=>{if(o.remove(),0===s.data.cart_count){const e=document.querySelector(".cart-dropdown-items");e&&(e.innerHTML='<li class="cart-dropdown-empty"><p>Your cart is empty.</p></li>')}},300));const e=document.querySelector(".cart-subtotal-amount");e&&s.data.cart_subtotal&&(e.innerHTML=s.data.cart_subtotal);const t=document.querySelector(".cart-item-count");if(t){const e=s.data.cart_count;t.textContent=`${e} ${1===e?"item":"items"}`}this.showMessage("Item removed from cart.","info"),"undefined"!=typeof jQuery&&jQuery(document.body).trigger("removed_from_cart",[s.data.fragments||null,null])}}catch(e){console.error("Remove from cart error:",e),this.showMessage("Failed to remove item. Please try again.","error"),o&&(o.style.opacity="1",o.style.pointerEvents="")}finally{e.classList.remove("loading")}}async updateQuantity(e,t){const o=e.value;if(!t||o<0)return;const n=e.closest("tr");n&&(n.style.opacity="0.6",n.style.pointerEvents="none");try{const e=new FormData;e.append("action","update_cart_quantity"),e.append("cart_item_key",t),e.append("quantity",o),e.append("nonce",this.nonce);const i=await fetch(this.ajaxUrl,{method:"POST",body:e,credentials:"same-origin"});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const s=await i.json();if(!s.success)throw new Error(s.data?.message||"Failed to update cart");{if(s.data.line_subtotal&&n){const e=n.querySelector(".product-subtotal");e&&(e.innerHTML=s.data.line_subtotal)}if(s.data.cart_totals_html){const e=document.querySelector(".cart_totals");e&&(e.outerHTML=s.data.cart_totals_html)}s.data.fragments&&this.updateFragments(s.data.fragments),this.updateCartCount(s.data.cart_count);const e=document.querySelector(".cart-subtotal-amount");e&&s.data.cart_subtotal&&(e.innerHTML=s.data.cart_subtotal),"undefined"!=typeof jQuery&&jQuery(document.body).trigger("updated_cart_totals"),this.showMessage("Cart updated successfully!","success")}}catch(e){console.error("Update cart error:",e),this.showMessage("Failed to update cart. Please try again.","error")}finally{n&&(n.style.opacity="1",n.style.pointerEvents="")}}updateFragments(e){e&&(this.isEmptyCart&&this.isCartPage()||(Object.keys(e).forEach(t=>{document.querySelectorAll(t).forEach(o=>{const n=e[t];if(".cart-dropdown-items"===t){const e=document.createElement("ul");e.className="cart-dropdown-items",e.innerHTML=n,o.parentNode.replaceChild(e,o)}else o.innerHTML=n})}),this.updateCartCountVisibility()))}updateCartCount(e){document.querySelectorAll(".cart-count").forEach(t=>{t.textContent=e,t.style.display=e>0?"":"none"})}updateCartCountVisibility(){document.querySelectorAll(".cart-count").forEach(e=>{const t=parseInt(e.textContent)||0;e.style.display=t>0?"":"none"})}showMessage(e,t="info"){const o=document.querySelector(".cart-message");o&&o.remove();const n=document.createElement("div");n.className=`cart-message cart-message--${t}`,n.innerHTML=`\n            <div class="cart-message__content">\n                <span class="cart-message__icon">\n                    ${"success"===t?"✓":"error"===t?"✕":"ℹ"}\n                </span>\n                <span class="cart-message__text">${e}</span>\n                <button class="cart-message__close" aria-label="Close message">\n                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">\n                        <path fill-rule="evenodd" d="M13.854 2.146a.5.5 0 010 .708l-11 11a.5.5 0 01-.708-.708l11-11a.5.5 0 01.708 0z" clip-rule="evenodd"/>\n                        <path fill-rule="evenodd" d="M2.146 2.146a.5.5 0 000 .708l11 11a.5.5 0 00.708-.708l-11-11a.5.5 0 00-.708 0z" clip-rule="evenodd"/>\n                    </svg>\n                </button>\n            </div>\n        `,document.body.appendChild(n),requestAnimationFrame(()=>{n.classList.add("cart-message--visible")});const i=setTimeout(()=>{this.removeMessage(n)},4e3);n.querySelector(".cart-message__close").addEventListener("click",()=>{clearTimeout(i),this.removeMessage(n)})}removeMessage(e){e.classList.remove("cart-message--visible"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)}}document.addEventListener("DOMContentLoaded",()=>{window.cartManager=new CartManager}),"loading"!==document.readyState&&(window.cartManager=new CartManager),function(){"use strict";function e(){const e=document.querySelector(".category-filter-buttons");if(!e)return;let o,n,i=!1,s=!1,a=0;!function(e){const t=e.parentElement;if(t.querySelector(".category-filter-overlay"))return;const o=document.createElement("div");o.className="category-filter-overlay category-filter-overlay--left",o.setAttribute("aria-hidden","true");const n=document.createElement("div");n.className="category-filter-overlay category-filter-overlay--right",n.setAttribute("aria-hidden","true"),t.appendChild(o),t.appendChild(n)}(e),t(e);e.querySelectorAll("a").forEach(function(e){e.addEventListener("dragstart",function(e){return e.preventDefault(),!1})}),e.addEventListener("mousedown",function(t){i=!0,s=!1,a=0,o=t.pageX-e.offsetLeft,n=e.scrollLeft,e.style.cursor="grabbing",t.preventDefault()}),e.addEventListener("mouseleave",function(){i=!1,s=!1,a=0,e.classList.remove("is-dragging"),e.style.cursor="grab"}),e.addEventListener("mouseup",function(){i=!1,e.classList.remove("is-dragging"),e.style.cursor="grab",setTimeout(function(){s=!1,a=0},10)}),e.addEventListener("mousemove",function(r){if(!i)return;r.preventDefault();const c=r.pageX-e.offsetLeft,l=1.5*(c-o);a=Math.abs(c-o),a>5&&(s||(s=!0,e.classList.add("is-dragging")),e.scrollLeft=n-l,t(e))}),e.addEventListener("scroll",function(){t(e)}),e.addEventListener("click",function(e){if(s&&a>5)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1},!0);let r=0,c=0,l=0,d=!1,u=0;e.addEventListener("touchstart",function(t){r=t.touches[0].pageX,c=t.touches[0].pageY,l=e.scrollLeft,d=!1,u=0},{passive:!0}),e.addEventListener("touchmove",function(o){const n=o.touches[0].pageX,i=o.touches[0].pageY,s=r-n,a=Math.abs(c-i);u=Math.abs(s),u>a&&u>5&&(d=!0,e.scrollLeft=l+s,t(e))},{passive:!0}),e.addEventListener("touchend",function(){setTimeout(function(){d=!1,u=0},10)},{passive:!0}),e.addEventListener("click",function(e){if(d&&u>5)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1},!0),window.addEventListener("resize",function(){t(e)})}function t(e){const t=e.parentElement,o=t.querySelector(".category-filter-overlay--left"),n=t.querySelector(".category-filter-overlay--right");if(!o||!n)return;const i=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth,r=s-a;if(!(s>a))return o.classList.remove("visible"),o.classList.add("hidden"),n.classList.remove("visible"),void n.classList.add("hidden");i>1?(o.classList.add("visible"),o.classList.remove("hidden")):(o.classList.remove("visible"),o.classList.add("hidden")),i<r-1?(n.classList.add("visible"),n.classList.remove("hidden")):(n.classList.remove("visible"),n.classList.add("hidden"))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(),function(){"use strict";class e{constructor(e){this.wrapper=e,this.deals=this.wrapper.querySelectorAll(".special-deal-card"),this.dots=this.wrapper.querySelectorAll(".deals-dot"),this.totalDeals=parseInt(this.wrapper.dataset.totalDeals,10)||0,this.currentIndex=0,this.rotationTimer=null,this.isPaused=!1,this.countdownTimers=[],this.totalDeals>0&&this.init()}init(){this.initCountdowns(),this.totalDeals>1&&(this.setupNavigation(),this.startRotation(),this.setupHoverPause())}initCountdowns(){this.deals.forEach((e,t)=>{const o=e.querySelector(".countdown-timer");if(o){const e=o.dataset.endDate;e&&this.startCountdown(o,e,t)}})}startCountdown(e,t,o){const n=()=>{const n=(new Date).getTime(),i=new Date(t).getTime()-n;if(i<0)return clearInterval(this.countdownTimers[o]),void(e.innerHTML='<p style="color: #fff; text-align: center;">Sale Ended</p>');const s=Math.floor(i/864e5),a=Math.floor(i%864e5/36e5),r=Math.floor(i%36e5/6e4),c=Math.floor(i%6e4/1e3),l=e.querySelector(".days"),d=e.querySelector(".hours"),u=e.querySelector(".minutes"),m=e.querySelector(".seconds");l&&(l.textContent=String(s).padStart(2,"0")),d&&(d.textContent=String(a).padStart(2,"0")),u&&(u.textContent=String(r).padStart(2,"0")),m&&(m.textContent=String(c).padStart(2,"0"))};n(),this.countdownTimers[o]=setInterval(n,1e3)}setupNavigation(){this.dots.forEach((e,t)=>{e.addEventListener("click",()=>{this.goToSlide(t),this.resetRotation()})});const e=this.wrapper.querySelector(".deals-arrow-prev"),t=this.wrapper.querySelector(".deals-arrow-next");e&&e.addEventListener("click",()=>{this.previousSlide(),this.resetRotation()}),t&&t.addEventListener("click",()=>{this.nextSlide(),this.resetRotation()})}setupHoverPause(){this.wrapper.addEventListener("mouseenter",()=>{this.isPaused=!0}),this.wrapper.addEventListener("mouseleave",()=>{this.isPaused=!1})}startRotation(){this.rotationTimer=setInterval(()=>{this.isPaused||this.nextSlide()},8e3)}resetRotation(){clearInterval(this.rotationTimer),this.startRotation()}nextSlide(){const e=(this.currentIndex+1)%this.totalDeals;this.goToSlide(e)}previousSlide(){const e=(this.currentIndex-1+this.totalDeals)%this.totalDeals;this.goToSlide(e)}goToSlide(e){e!==this.currentIndex&&(this.deals[this.currentIndex].classList.remove("active"),this.dots[this.currentIndex]&&this.dots[this.currentIndex].classList.remove("active"),this.currentIndex=e,this.deals[this.currentIndex].classList.add("active"),this.dots[this.currentIndex]&&this.dots[this.currentIndex].classList.add("active"))}destroy(){this.rotationTimer&&clearInterval(this.rotationTimer),this.countdownTimers.forEach(e=>{e&&clearInterval(e)})}}function t(){const t=document.querySelector(".deals-slider-wrapper");t&&new e(t)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}(),function(e){"use strict";wp.customize("footer_description",function(t){t.bind(function(t){e(".footer-description-minimal").html(t)})}),wp.customize("footer_copyright_text",function(t){t.bind(function(t){var o=(new Date).getFullYear(),n=wp.customize("blogname")();t=(t=t.replace("{year}",o)).replace("{sitename}",n),e(".footer-copyright-minimal p").html(t)})}),wp.customize("footer_bg_color",function(t){t.bind(function(t){e(".site-footer-minimal").css("background-color",t)})}),wp.customize("footer_text_color",function(t){t.bind(function(t){e("style#footer-text-color").remove(),e("head").append('<style id="footer-text-color">:root { --footer-minimal-text: '+t+"; }</style>")})}),wp.customize("footer_logo_size",function(t){t.bind(function(t){e("style#footer-logo-size").remove();var o=".footer-logo-minimal img { max-width: "+t+"px !important; height: auto !important; }";o+=".footer-logo-minimal .custom-logo { max-width: "+t+"px !important; height: auto !important; }",o+=".footer-logo-minimal .custom-logo-link img { max-width: "+t+"px !important; height: auto !important; }",o+=".footer-logo-minimal a img { max-width: "+t+"px !important; height: auto !important; }",e("head").append('<style id="footer-logo-size">'+o+"</style>")})}),wp.customize("blogname",function(t){t.bind(function(t){e(".footer-logo-text h2 a").text(t);var o=wp.customize("footer_copyright_text")();if(-1!==o.indexOf("{sitename}")){var n=(new Date).getFullYear();o=(o=o.replace("{year}",n)).replace("{sitename}",t),e(".footer-copyright-minimal p").html(o)}})})}(jQuery),function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const e=document.body,t=document.querySelector(".site-header"),o=e.classList.contains("admin-bar"),n=e.classList.contains("has-transparent-header");if(!t)return;let i=0,s=!1;function a(s){const a=window.innerWidth<782;n?s>50?(e.classList.add("scrolled"),t.classList.add("is-sticky")):(e.classList.remove("scrolled"),t.classList.remove("is-sticky")):(e.classList.remove("scrolled"),t.classList.add("is-sticky")),t.style.top=o?a?"46px":"32px":"0",i=s}window.addEventListener("scroll",function(){i=window.pageYOffset||document.documentElement.scrollTop,s||(window.requestAnimationFrame(function(){a(i),s=!1}),s=!0)},{passive:!0}),window.addEventListener("resize",function(){s||(window.requestAnimationFrame(function(){a(i),s=!1}),s=!0)},{passive:!0}),a(window.pageYOffset||document.documentElement.scrollTop)})}(),function(){"use strict";class e{constructor(){this.video=null,this.isMobile=window.innerWidth<=768,this.heroSection=document.querySelector(".hero-section"),this.heroSection&&(this.useMobileFallback="true"===this.heroSection.dataset.mobileFallback,this.videoLoop="true"===this.heroSection.dataset.videoLoop,this.videoMute="true"===this.heroSection.dataset.videoMute,this.videoUrl=this.heroSection.dataset.videoUrl,this.fallbackImage=this.heroSection.dataset.fallbackImage,this.init())}init(){this.cacheElements(),!this.isVideoMode()||this.isMobile&&this.useMobileFallback||(this.createVideoElement(),this.bindEvents())}isVideoMode(){return this.heroSection&&this.heroSection.classList.contains("hero-video-mode")}cacheElements(){this.videoContainer=this.heroSection.querySelector(".hero-video-container")}bindEvents(){window.addEventListener("resize",this.handleResize.bind(this))}handleResize(){const e=this.isMobile;this.isMobile=window.innerWidth<=768,e!==this.isMobile&&this.useMobileFallback&&this.isVideoMode()&&(this.isMobile?(this.pauseVideo(),this.hideVideo()):(this.showVideo(),this.playVideo()))}createVideoElement(){if(!this.videoContainer||!this.videoUrl)return void console.warn("Missing video container or URL");this.video=document.createElement("video"),this.video.className="hero-background-video",this.video.playsInline=!0,this.video.preload="metadata",this.video.muted=this.videoMute,this.video.loop=this.videoLoop,this.fallbackImage&&(this.video.poster=this.fallbackImage);const e=document.createElement("source");e.src=this.videoUrl,e.type="video/webm",this.video.appendChild(e),this.video.addEventListener("error",this.handleVideoError.bind(this)),this.video.addEventListener("canplay",this.handleVideoCanPlay.bind(this));const t=this.videoContainer.querySelector(".video-fallback-image");t&&(t.style.display="none"),this.videoContainer.appendChild(this.video),this.setupVideoControls()}setupVideoControls(){const e=this.videoContainer?.querySelector(".video-play-btn"),t=this.videoContainer?.querySelector(".video-pause-btn"),o=this.videoContainer?.querySelector(".video-mute-btn");e&&this.video&&e.addEventListener("click",()=>{this.playVideo(),e.style.display="none",t&&(t.style.display="flex")}),t&&this.video&&t.addEventListener("click",()=>{this.pauseVideo(),t.style.display="none",e&&(e.style.display="flex")}),o&&this.video&&o.addEventListener("click",()=>this.toggleMute(o)),this.video&&(this.video.addEventListener("play",()=>{e?.style.setProperty("display","none","important"),t?.style.setProperty("display","flex","important")}),this.video.addEventListener("pause",()=>{t?.style.setProperty("display","none","important"),e?.style.setProperty("display","flex","important")}))}playVideo(){if(!this.video)return;const e=this.video.play();void 0!==e&&e.then(()=>{const e=this.videoContainer?.querySelector(".video-fallback-image");e&&(e.style.display="none")}).catch(e=>{console.warn("Video autoplay failed:",e);const t=this.videoContainer?.querySelector(".video-play-btn");t&&(t.style.display="flex")})}pauseVideo(){this.video&&this.video.pause()}toggleMute(e){if(!this.video||!e)return;this.video.muted=!this.video.muted;const t=this.video.muted;e.innerHTML=t?'<svg class="mute-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>':'<svg class="unmute-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>',e.setAttribute("aria-label",t?"Unmute video":"Mute video")}handleVideoCanPlay(){setTimeout(()=>{this.playVideo()},500)}handleVideoError(){console.error("Failed to load video");const e=this.videoContainer?.querySelector(".video-fallback-image");e&&(e.style.display="block",this.video&&(this.video.style.display="none"));const t=this.videoContainer?.querySelector(".video-controls");t&&(t.style.display="none")}hideVideo(){this.video&&(this.video.style.display="none");const e=this.videoContainer?.querySelector(".video-fallback-image");e&&(e.style.display="block");const t=this.videoContainer?.querySelector(".video-controls");t&&(t.style.display="none")}showVideo(){this.video&&(this.video.style.display="block");const e=this.videoContainer?.querySelector(".video-fallback-image");e&&(e.style.display="none");const t=this.videoContainer?.querySelector(".video-controls");t&&(t.style.display="flex")}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{new e}):new e}();class Modal{constructor(){this.modals=new Map,this.init()}init(){this.initSearchModal(),this.initQuickViewModal(),this.bindGlobalEvents()}initSearchModal(){const e=document.querySelector(".search-toggle"),t=document.querySelector(".search-modal");if(!e||!t)return;this.modals.set("search",{element:t,openers:[e]});const o=t.querySelector('input[type="search"]'),n=t.querySelector(".search-results-container");o&&n&&this.initSearch(o,n)}initSearch(e,t){let o;e.addEventListener("input",e=>{clearTimeout(o);const n=e.target.value.trim();n.length<2?t.innerHTML="":o=setTimeout(()=>{this.performSearch(n,t)},300)}),e.closest("form").addEventListener("submit",t=>{e.value.trim().length<2&&t.preventDefault()})}async performSearch(e,t){try{const o=await fetch(`${mr_ajax.url}?action=mr_product_search&s=${encodeURIComponent(e)}&nonce=${mr_ajax.nonce}`),n=await o.json();n.success&&(t.innerHTML=n.data)}catch(e){console.error("Search error:",e),t.innerHTML='<p class="search-error">Search failed. Please try again.</p>'}}initQuickViewModal(){const e=document.querySelector(".quick-view-modal");e&&this.modals.set("quick-view",{element:e,openers:[]})}bindGlobalEvents(){document.addEventListener("keydown",e=>{"Escape"===e.key&&this.closeAllModals()}),document.addEventListener("click",e=>{(e.target.classList.contains("modal-backdrop")||e.target.closest(".modal-close"))&&this.closeAllModals()})}openModal(e){const t=this.modals.get(e);t&&(t.element.classList.add("active"),document.body.classList.add("modal-open"),this.trapFocus(t.element),document.dispatchEvent(new CustomEvent("modalOpened",{detail:{name:e}})))}closeModal(e){const t=this.modals.get(e);t&&(t.element.classList.remove("active"),document.body.classList.remove("modal-open"),document.dispatchEvent(new CustomEvent("modalClosed",{detail:{name:e}})))}closeAllModals(){this.modals.forEach((e,t)=>{this.closeModal(t)})}trapFocus(e){const t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),o=t[0],n=t[t.length-1];e.addEventListener("keydown",function(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===o&&(e.preventDefault(),n.focus()):document.activeElement===n&&(e.preventDefault(),o.focus()))}),o.focus()}}document.addEventListener("DOMContentLoaded",()=>{window.modal=new Modal}),function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".main-navigation"),o=document.querySelector(".mobile-menu-overlay"),n=document.body;e&&t&&e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();const i="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!i),t.classList.toggle("active"),o&&o.classList.toggle("active"),n.classList.toggle("mobile-menu-open")}),o&&e&&t&&o.addEventListener("click",function(){e.setAttribute("aria-expanded","false"),t.classList.remove("active"),o.classList.remove("active"),n.classList.remove("mobile-menu-open")}),document.addEventListener("keydown",function(i){"Escape"===i.key&&e&&"true"===e.getAttribute("aria-expanded")&&(e.setAttribute("aria-expanded","false"),t.classList.remove("active"),o&&o.classList.remove("active"),n.classList.remove("mobile-menu-open"),e.focus())});document.querySelectorAll(".main-navigation .submenu-toggle").forEach(function(e){e.remove()});const i=document.querySelectorAll(".main-navigation .menu-item-has-children");let s;i.forEach(function(e){const t=e.querySelector("a");t&&t.addEventListener("click",function(t){if(window.innerWidth<=1023){if(t.offsetX>this.offsetWidth-40||e.classList.contains("active")){t.preventDefault(),e.classList.toggle("active");e.parentElement.querySelectorAll(":scope > .menu-item-has-children").forEach(function(t){t!==e&&t.classList.remove("active")})}}})}),window.addEventListener("resize",function(){clearTimeout(s),s=setTimeout(function(){window.innerWidth>1023&&(e&&e.setAttribute("aria-expanded","false"),t&&t.classList.remove("active"),o&&o.classList.remove("active"),n.classList.remove("mobile-menu-open"),i.forEach(function(e){e.classList.remove("active")}))},250)});document.querySelectorAll(".cart-item-remove").forEach(function(e){e.addEventListener("click",function(t){if(t.preventDefault(),t.stopPropagation(),"undefined"==typeof mr_ajax)return console.error("AJAX variables not loaded. Make sure inc/ajax.php is properly included."),void alert("Error: Unable to remove item. Please refresh the page and try again.");const o=this.getAttribute("data-cart-item-key"),n=this.closest(".cart-dropdown-item");o&&(e.disabled=!0,e.style.opacity="0.5",fetch(mr_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"remove_cart_item",cart_item_key:o,nonce:mr_ajax.nonce})}).then(e=>e.json()).then(t=>{t.success?(n.style.transition="opacity 0.3s ease, transform 0.3s ease",n.style.opacity="0",n.style.transform="translateX(20px)",setTimeout(function(){if(n.remove(),function(e){const t=document.querySelectorAll(".cart-count"),o=document.querySelector(".cart-item-count");if(t.forEach(function(t){e>0?(t.textContent=e,t.style.display="flex"):t.style.display="none"}),o){const t=1===e?"item":"items";o.textContent=e+" "+t}}(t.data.cart_count),function(e){const t=document.querySelector(".cart-subtotal strong");t&&e&&(t.innerHTML=e)}(t.data.cart_subtotal),0===t.data.cart_count){const e=document.querySelector(".cart-dropdown");e&&(e.style.display="none"),setTimeout(function(){window.location.reload()},500)}},300)):(e.disabled=!1,e.style.opacity="1",alert(t.data.message||"Failed to remove item"))}).catch(t=>{console.error("Error:",t),e.disabled=!1,e.style.opacity="1",alert("An error occurred. Please try again.")}))})});document.querySelectorAll(".main-navigation .nav-menu a").forEach(function(e){e.addEventListener("keydown",function(e){const t=this.closest("li"),o=t.querySelector(".sub-menu");if("ArrowDown"===e.key)if(e.preventDefault(),o){const e=o.querySelector("a");e&&e.focus()}else{const e=t.nextElementSibling;if(e){const t=e.querySelector("a");t&&t.focus()}}if("ArrowUp"===e.key){e.preventDefault();const o=t.previousElementSibling;if(o){const e=o.querySelector("a");e&&e.focus()}}if("ArrowRight"===e.key)if(e.preventDefault(),o){const e=o.querySelector("a");e&&e.focus()}else{const e=t.nextElementSibling;if(e){const t=e.querySelector("a");t&&t.focus()}}if("ArrowLeft"===e.key){e.preventDefault();const o=t.closest(".sub-menu");if(o){const e=o.previousElementSibling;e&&e.focus()}else{const e=t.previousElementSibling;if(e){const t=e.querySelector("a");t&&t.focus()}}}})});const a=document.querySelector(".cart-dropdown"),r=document.querySelector(".account-dropdown");a&&a.addEventListener("click",function(e){e.stopPropagation()}),r&&r.addEventListener("click",function(e){e.stopPropagation()});const c=document.querySelectorAll(".has-mega-menu");c.forEach(function(e){const t=e.querySelector(".mega-menu-dropdown");if(t){const o=document.body.getAttribute("data-menu-hover-effect")||"fade-slide";t.parentElement.classList.add("menu-hover-"+o),"ontouchstart"in window&&e.addEventListener("touchstart",function(t){e.classList.contains("mega-menu-active")||(t.preventDefault(),c.forEach(function(t){t!==e&&t.classList.remove("mega-menu-active")}),e.classList.add("mega-menu-active"))})}}),document.addEventListener("click",function(e){e.target.closest(".has-mega-menu")||c.forEach(function(e){e.classList.remove("mega-menu-active")})})})}(),function(e){"use strict";function t(){e("body").hasClass("woocommerce-cart")||e(".quantity:not(.buttons-added)").each(function(){const t=e(this),o=t.find('input.qty, input[type="number"]');if(0===o.length||t.hasClass("buttons-added"))return;const n=parseFloat(o.attr("min"))||1,i=parseFloat(o.attr("max"))||999,s=parseFloat(o.attr("step"))||1;o.parent().hasClass("quantity-wrapper")||o.wrap('<div class="quantity-wrapper"></div>');const a=o.parent(".quantity-wrapper");0===a.find(".minus").length&&a.prepend('<button type="button" class="minus qty-btn" aria-label="Decrease quantity">−</button>'),0===a.find(".plus").length&&a.append('<button type="button" class="plus qty-btn" aria-label="Increase quantity">+</button>'),t.addClass("buttons-added"),t.data("min",n),t.data("max",i),t.data("step",s)})}function o(t){t.preventDefault(),t.stopPropagation();const o=e(this).closest(".quantity"),n=o.find('input.qty, input[type="number"]'),i=parseFloat(n.val())||0,s=parseFloat(o.data("max"))||999,a=i+(parseFloat(o.data("step"))||1);a<=s&&n.val(a).trigger("change")}function n(t){t.preventDefault(),t.stopPropagation();const o=e(this).closest(".quantity"),n=o.find('input.qty, input[type="number"]'),i=parseFloat(n.val())||0,s=parseFloat(o.data("min"))||1,a=i-(parseFloat(o.data("step"))||1);a>=s&&n.val(a).trigger("change")}function i(){const t=e(this),o=t.closest(".quantity");let n=parseFloat(t.val());const i=parseFloat(o.data("min"))||1,s=parseFloat(o.data("max"))||999;(isNaN(n)||""===n)&&(n=i),n<i&&(n=i),n>s&&(n=s),t.val(n)}e(document).ready(function(){if(!e("body").hasClass("woocommerce-cart")){t(),e(document).on("click",".qty-btn.plus",o),e(document).on("click",".qty-btn.minus",n),e(document).on("change",'.quantity input.qty, .quantity input[type="number"]',i),e(document.body).on("found_variation",function(){setTimeout(t,100)}),e(document.body).on("reset_data",function(){setTimeout(t,100)});const s=new MutationObserver(function(o){o.forEach(function(o){o.addedNodes.length&&e(o.addedNodes).find(".quantity").each(function(){e(this).hasClass("buttons-added")||t()})})}),a=e("form.cart");a.length&&s.observe(a[0],{childList:!0,subtree:!0})}})}(jQuery),function(e){"use strict";function t(t){const o=e("#quick-view-modal"),n=o.find(".quick-view-content");o.fadeIn(300),e("body").addClass("quick-view-open"),n.html('\n            <div class="quick-view-loading">\n                <div class="spinner"></div>\n                <p>Loading product...</p>\n            </div>\n        '),e.ajax({url:BoQuickView.ajax_url,type:"POST",data:{action:"get_quick_view_product",product_id:t,security:BoQuickView.nonce},success:function(t){var o;t.success&&t.data.html?(n.html(t.data.html),function(t){const o=t.find(".variations_form");o.length&&void 0!==e.fn.wc_variation_form&&(o.wc_variation_form(),o.trigger("check_variations"),o.trigger("wc_variation_form"),console.log("Variation form initialized"))}(n),o=n,setTimeout(function(){!function(t){t.find(".variations select").each(function(){const t=e(this),o=t.attr("name");if(!o||!o.toLowerCase().includes("color"))return;if(t.next(".color-swatches").length)return;const n=e('<div class="color-swatches"></div>');t.find("option").each(function(){const o=e(this),i=o.val(),s=o.text();if(!i)return;const a=function(e){const t={black:"#000000",white:"#ffffff",red:"#ef4444",blue:"#3b82f6",green:"#10b981",yellow:"#fbbf24",purple:"#7c3aed",pink:"#ec4899",orange:"#f97316",gray:"#6b7280",grey:"#6b7280",brown:"#92400e",navy:"#1e3a8a",teal:"#14b8a6",cyan:"#06b6d4",lime:"#84cc16",indigo:"#6366f1",violet:"#8b5cf6",fuchsia:"#d946ef",rose:"#f43f5e",amber:"#f59e0b",emerald:"#059669",sky:"#0ea5e9",slate:"#64748b"},o=e.toLowerCase().trim();return o.startsWith("#")?o:t[o]||"#7c3aed"}(i),r=e('<div class="color-swatch"></div>');r.attr("data-value",i),r.attr("title",s),r.css("background-color",a),function(e){const t=e.replace("#",""),o=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16),i=parseInt(t.substr(4,2),16);return(299*o+587*n+114*i)/1e3>200}(a)&&r.css("border","2px solid #e5e7eb"),r.on("click",function(){n.find(".color-swatch").removeClass("selected"),e(this).addClass("selected"),t.val(i).trigger("change")}),n.append(r)}),t.hide().after(n);const i=t.val();i&&""!==i&&n.find(`[data-value="${i}"]`).addClass("selected")})}(o),function(t){t.find(".variations select").each(function(){const t=e(this),o=t.attr("name");if(!o||!o.toLowerCase().includes("size"))return;if(t.next(".size-buttons").length)return;const n=e('<div class="size-buttons"></div>');t.find("option").each(function(){const o=e(this),i=o.val(),s=o.text();if(!i)return;const a=e('<button type="button" class="size-button"></button>');a.attr("data-value",i),a.text(s),o.is(":disabled")&&a.prop("disabled",!0),a.on("click",function(o){o.preventDefault(),e(this).prop("disabled")||(n.find(".size-button").removeClass("selected"),e(this).addClass("selected"),t.val(i).trigger("change"))}),n.append(a)}),t.hide().after(n);const i=t.val();i&&""!==i&&n.find(`[data-value="${i}"]`).addClass("selected")})}(o),console.log("Custom swatches initialized")},100),e(document.body).trigger("quick_view_loaded"),console.log("Quick view loaded successfully")):n.html('<div class="quick-view-error"><p>Error loading product. Please try again.</p></div>')},error:function(e,t,o){console.error("Quick View Error:",o),n.html('<div class="quick-view-error"><p>Error loading product. Please try again.</p></div>')}})}function o(){const t=e("#quick-view-modal");t.fadeOut(300),e("body").removeClass("quick-view-open"),setTimeout(function(){t.find(".quick-view-content").html("")},300)}e(document).ready(function(){!function(){if(e("#quick-view-modal").length)return;e("body").append('\n            <div id="quick-view-modal" class="quick-view-modal" style="display: none;">\n                <div class="quick-view-overlay"></div>\n                <div class="quick-view-container">\n                    <button class="quick-view-close" aria-label="Close">\n                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                            <line x1="18" y1="6" x2="6" y2="18"></line>\n                            <line x1="6" y1="6" x2="18" y2="18"></line>\n                        </svg>\n                    </button>\n                    <div class="quick-view-content">\n                        <div class="quick-view-loading">\n                            <div class="spinner"></div>\n                            <p>Loading product...</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ')}(),e(document).on("click",".quick-view-button",function(o){o.preventDefault();const n=e(this).data("product-id");console.log("Quick View clicked for product:",n),t(n)}),e(document).on("click",".quick-view-close, .quick-view-overlay",function(e){e.preventDefault(),o()}),e(document).on("keyup",function(t){"Escape"===t.key&&e("#quick-view-modal").is(":visible")&&o()}),e(document).on("click",".quick-view-container",function(e){e.stopPropagation()})})}(jQuery),function(e){"use strict";class t{constructor(){this.isLoading=!1,this.mobileBreakpoint=767,this.init()}init(){this.initSorting(),this.initColumnToggle(),this.initResponsiveHandler()}initSorting(){const t=e(".woocommerce-ordering select.orderby");if(!t.length)return;const o=this;t.closest("form").on("submit",function(e){return e.preventDefault(),!1}),t.on("change",function(){const t=e(this).val();o.updateResults(t)})}updateResults(t){if(this.isLoading)return;const o=e(".products.search-results-grid"),n=e(".search-toolbar"),i=e('input[name="s"]').val();if(!o.length)return;this.isLoading=!0,o.addClass("loading").css("opacity","0.5"),n.css("pointer-events","none");const s=new URL(window.location.href);s.searchParams.set("orderby",t),s.searchParams.set("s",i),s.searchParams.set("post_type","product"),e.ajax({url:s.toString(),type:"GET",dataType:"html",success:t=>{const n=e(t).find(".products.search-results-grid").html();if(n){const e=o.attr("data-columns");o.html(n),o.attr("data-columns",e),window.history.pushState({},"",s.toString())}},error:(e,t,o)=>{console.error("Search sorting error:",o)},complete:()=>{this.isLoading=!1,o.removeClass("loading").css("opacity","1"),n.css("pointer-events","")}})}initColumnToggle(){const t=e(".column-toggle"),o=e(".products.search-results-grid");if(!t.length||!o.length)return;const n=localStorage.getItem("searchResultsColumns")||"4";this.applyResponsiveColumns(n,o,t);const i=this;t.on("click",function(n){n.preventDefault();const s=e(this),a=s.attr("data-columns");a&&(t.removeClass("active"),s.addClass("active"),i.setColumns(a,o,t),localStorage.setItem("searchResultsColumns",a))})}initResponsiveHandler(){const t=e(".products.search-results-grid"),o=e(".column-toggle");if(!t.length)return;const n=this;let i;e(window).on("resize",function(){clearTimeout(i),i=setTimeout(function(){const e=localStorage.getItem("searchResultsColumns")||"4";n.applyResponsiveColumns(e,t,o)},250)})}applyResponsiveColumns(e,t,o){window.innerWidth<=this.mobileBreakpoint?this.setColumns("2",t,o,!0):this.setColumns(e,t,o,!1)}setColumns(e,t,o,n=!1){e&&["2","3","4"].includes(e)||(e="4"),t.addClass("view-transitioning"),t.attr("data-columns",e),!n&&o&&o.length&&(o.removeClass("active"),o.filter(`[data-columns="${e}"]`).addClass("active")),t[0]&&t[0].offsetHeight,setTimeout(()=>{t.removeClass("view-transitioning")},300)}}e(function(){new t})}(jQuery),function(e){"use strict";class t{constructor(){this.mobileBreakpoint=767,this.init()}init(){this.initColumnToggle(),this.initResponsiveHandler()}initColumnToggle(){const t=e(".column-toggle"),o=e(".woocommerce ul.products, .woocommerce-page ul.products");if(!t.length||!o.length)return;const n=localStorage.getItem("shopColumnsView")||"4";this.applyResponsiveColumns(n,o,t);const i=this;t.on("click",function(n){n.preventDefault();const s=e(this),a=s.attr("data-columns");a&&(t.removeClass("active"),s.addClass("active"),i.setColumns(a,o,t),localStorage.setItem("shopColumnsView",a))})}initResponsiveHandler(){const t=e(".woocommerce ul.products, .woocommerce-page ul.products"),o=e(".column-toggle");if(!t.length)return;const n=this;let i;e(window).on("resize",function(){clearTimeout(i),i=setTimeout(function(){const e=localStorage.getItem("shopColumnsView")||"4";n.applyResponsiveColumns(e,t,o)},250)})}applyResponsiveColumns(e,t,o){window.innerWidth<=this.mobileBreakpoint?this.setColumns("2",t,o,!0):this.setColumns(e,t,o,!1)}setColumns(e,t,o,n=!1){e&&["2","3","4"].includes(e)||(e="4"),t.addClass("view-transitioning"),t.attr("data-columns",e),!n&&o&&o.length&&(o.removeClass("active"),o.filter(`[data-columns="${e}"]`).addClass("active")),t[0]&&t[0].offsetHeight,setTimeout(()=>{t.removeClass("view-transitioning")},300)}}e(function(){new t})}(jQuery),function(){"use strict";const e=new WeakSet;class t{constructor(t,o={}){t&&(e.has(t)||(this.container=t,this.slidesContainer=t.querySelector(".testimonial-slides, .hero-slides, .slider-track"),this.slidesContainer&&(this.slides=Array.from(this.slidesContainer.querySelectorAll(".testimonial-slide, .hero-slide, .product-slide, .slider-item")),0!==this.slides.length&&(this.dotsContainer=t.querySelector(".slider-dots"),this.config={autoPlay:!1!==o.autoPlay,autoPlayDelay:o.autoPlayDelay||5e3,animationSpeed:o.animationSpeed||700,...o},this.currentIndex=0,this.isAnimating=!1,this.autoPlayInterval=null,this.direction="next",e.add(t),this.init()))))}init(){this.slides.forEach((e,t)=>{e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.transition=`transform ${this.config.animationSpeed}ms cubic-bezier(0.4, 0, 0.2, 1), opacity ${this.config.animationSpeed}ms ease`,0===t?(e.style.transform="translateX(0)",e.style.opacity="1",e.style.zIndex="2",e.classList.add("active")):(e.style.transform="translateX(100%)",e.style.opacity="0",e.style.zIndex="1",e.classList.remove("active"))}),this.updateContainerHeight(),this.createDots(),this.setupEventListeners(),this.config.autoPlay&&this.slides.length>1&&this.startAutoPlay(),this.container.classList.add("slider-initialized")}showSlide(e,t="next"){if(this.isAnimating)return;if(e<0||e>=this.slides.length)return;if(e===this.currentIndex)return;this.isAnimating=!0;const o=this.slides[this.currentIndex],n=this.slides[e];n.style.transform="translateX(100%)",n.style.opacity="1",n.style.zIndex="3",n.style.pointerEvents="none",n.offsetHeight,o.style.opacity="0",o.style.zIndex="2",o.style.pointerEvents="none",n.style.transform="translateX(0)",n.style.pointerEvents="auto",o.classList.remove("active"),n.classList.add("active"),this.currentIndex=e,this.updateDots(),this.updateContainerHeight(),setTimeout(()=>{o.style.zIndex="1",o.style.transform="translateX(100%)",this.isAnimating=!1},this.config.animationSpeed)}updateContainerHeight(){const e=this.slides[this.currentIndex];if(!e)return;const t=e.scrollHeight;t>0&&(this.slidesContainer.style.height=`${t}px`,this.slidesContainer.style.transition=`height ${this.config.animationSpeed}ms ease-in-out`)}createDots(){this.dotsContainer&&(this.slides.length<=1||(this.dotsContainer.innerHTML="",this.slides.forEach((e,t)=>{const o=document.createElement("button");o.className="slider-dot",o.type="button",o.setAttribute("aria-label",`Go to slide ${t+1}`),0===t&&o.classList.add("active"),o.addEventListener("click",()=>{const e=t>this.currentIndex?"next":"prev";this.goToSlide(t,e)}),this.dotsContainer.appendChild(o)}),this.dots=Array.from(this.dotsContainer.querySelectorAll(".slider-dot"))))}updateDots(){this.dots&&this.dots.forEach((e,t)=>{t===this.currentIndex?e.classList.add("active"):e.classList.remove("active")})}goToSlide(e,t=null){e!==this.currentIndex&&(t||(t=e>this.currentIndex?"next":"prev"),this.stopAutoPlay(),this.showSlide(e,t),this.config.autoPlay&&this.startAutoPlay())}nextSlide(){const e=(this.currentIndex+1)%this.slides.length;this.showSlide(e,"next")}prevSlide(){const e=(this.currentIndex-1+this.slides.length)%this.slides.length;this.showSlide(e,"prev")}startAutoPlay(){!this.config.autoPlay||this.slides.length<=1||(this.stopAutoPlay(),this.autoPlayInterval=setInterval(()=>{this.nextSlide()},this.config.autoPlayDelay))}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}setupEventListeners(){this.container.addEventListener("mouseenter",()=>{this.stopAutoPlay()}),this.container.addEventListener("mouseleave",()=>{this.config.autoPlay&&this.startAutoPlay()}),document.addEventListener("visibilitychange",()=>{document.hidden?this.stopAutoPlay():this.config.autoPlay&&this.startAutoPlay()});let e,t=0,o=0;this.slidesContainer.addEventListener("touchstart",e=>{t=e.touches[0].clientX},{passive:!0}),this.slidesContainer.addEventListener("touchend",e=>{o=e.changedTouches[0].clientX;const n=t-o;Math.abs(n)>50&&(this.stopAutoPlay(),n>0?this.nextSlide():this.prevSlide(),this.config.autoPlay&&this.startAutoPlay())}),document.addEventListener("keydown",e=>{this.isInViewport()&&(e.target.matches("input, textarea, select")||("ArrowLeft"===e.key?(e.preventDefault(),this.stopAutoPlay(),this.prevSlide(),this.config.autoPlay&&this.startAutoPlay()):"ArrowRight"===e.key&&(e.preventDefault(),this.stopAutoPlay(),this.nextSlide(),this.config.autoPlay&&this.startAutoPlay())))}),window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{this.updateContainerHeight()},250)})}isInViewport(){const e=this.container.getBoundingClientRect();return e.top<window.innerHeight&&e.bottom>0&&e.left<window.innerWidth&&e.right>0}}if(void 0!==t){const e=t.prototype.goToSlide;t.prototype.goToSlide=function(t){e.call(this,t);const o=this.slides[t];this.handleVideoForSlide(o,t)},t.prototype.handleVideoForSlide=function(e,t){const o=e.querySelector(".hero-video-container");if(!o)return;const n=o.querySelector("video");if(n&&(this.slides.forEach((e,o)=>{if(o!==t){const t=e.querySelector("video");t&&t.pause()}}),n.paused)){const e=n.play();void 0!==e&&e.catch(e=>{console.log("Video autoplay prevented:",e)})}}}function o(){[".testimonial-slider",".hero-slider",".product-slider"].forEach(o=>{document.querySelectorAll(o).forEach(o=>{if(e.has(o))return;const n={autoPlay:"false"!==o.dataset.autoplay,autoPlayDelay:parseInt(o.dataset.delay)||5e3,animationSpeed:parseInt(o.dataset.speed)||700};new t(o,n)})})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),window.UniversalSlider=t}();class MacedonRangesTheme{constructor(){this.lastScroll=0,this.init()}init(){this.initNavigation(),this.initModals(),this.initAnimations(),this.initSliders(),this.initCart(),this.initMobileSubmenu(),"undefined"!=typeof wc_add_to_cart_params&&this.initWooCommerce()}initNavigation(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".mobile-menu"),o=document.querySelector(".site-header");e&&t&&(e.addEventListener("click",()=>{const o="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!o),t.classList.toggle("active"),t.setAttribute("aria-hidden",o),document.body.classList.toggle("menu-open")}),document.addEventListener("keydown",o=>{"Escape"===o.key&&t.classList.contains("active")&&(e.setAttribute("aria-expanded","false"),t.classList.remove("active"),t.setAttribute("aria-hidden","true"),document.body.classList.remove("menu-open"))}),document.addEventListener("click",o=>{o.target.closest(".mobile-menu")||o.target.closest(".mobile-menu-toggle")||!t.classList.contains("active")||(e.setAttribute("aria-expanded","false"),t.classList.remove("active"),t.setAttribute("aria-hidden","true"),document.body.classList.remove("menu-open"))})),this.initStickyHeader(o),this.initSmoothScroll()}initStickyHeader(e){if(!e)return;let t=!1;window.addEventListener("scroll",()=>{t||(window.requestAnimationFrame(()=>{const o=window.pageYOffset;o>50?(document.body.classList.add("scrolled"),e.classList.add("is-sticky")):(document.body.classList.remove("scrolled"),e.classList.remove("is-sticky")),this.lastScroll=o,t=!1}),t=!0)},{passive:!0})}initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t||"#main"===t)return;const o=document.querySelector(t);if(o){e.preventDefault();const t=140,n=o.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:n,behavior:"smooth"})}})})}initMobileSubmenu(){const e=document.querySelector(".mobile-menu");if(!e)return;e.querySelectorAll(".menu-item-has-children").forEach(e=>{const t=e.querySelector("a"),o=e.querySelector(".sub-menu");if(t&&o){const n=document.createElement("button");n.className="submenu-toggle",n.setAttribute("aria-expanded","false"),n.setAttribute("aria-label","Toggle submenu"),n.innerHTML="<span></span>",t.after(n),n.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const i="true"===n.getAttribute("aria-expanded");e.parentElement.querySelectorAll(":scope > .menu-item-has-children").forEach(t=>{if(t!==e){t.classList.remove("submenu-open");const e=t.querySelector(".submenu-toggle"),o=t.querySelector(".sub-menu");e&&e.setAttribute("aria-expanded","false"),o&&o.classList.remove("active")}}),n.setAttribute("aria-expanded",!i),e.classList.toggle("submenu-open"),o.classList.toggle("active")})}})}initModals(){const e=document.querySelector(".search-toggle"),t=document.querySelector(".search-modal");e&&t&&(e.addEventListener("click",()=>{t.classList.add("active"),t.setAttribute("aria-hidden","false"),document.body.classList.add("modal-open");const e=t.querySelector('input[type="search"]');e&&setTimeout(()=>e.focus(),100)}),t.addEventListener("click",e=>{(e.target===t||e.target.closest(".search-modal-close"))&&this.closeSearchModal(t)}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&this.closeSearchModal(t)}))}closeSearchModal(e){e.classList.remove("active"),e.setAttribute("aria-hidden","true"),document.body.classList.remove("modal-open")}initAnimations(){if("IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate-in"),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".fade-in, .slide-up, .scale-in").forEach(t=>{e.observe(t)})}}initSliders(){const e=document.querySelector(".testimonial-slider");e&&this.initTestimonialSlider(e)}initTestimonialSlider(e){const t=e.querySelectorAll(".testimonial-slide"),o=e.querySelector(".slider-dots");if(!t.length||!o)return;let n,i=0;t.forEach((e,n)=>{const i=document.createElement("button");i.className="slider-dot "+(0===n?"active":""),i.setAttribute("aria-label",`Go to slide ${n+1}`),i.addEventListener("click",()=>this.goToSlide(n,t,o)),o.appendChild(i)});o.querySelectorAll(".slider-dot");const s=()=>{n=setInterval(()=>{const e=(i+1)%t.length;this.goToSlide(e,t,o)},5e3)};this.goToSlide=(e,o,n)=>{const s=o||t,a=n.querySelectorAll(".slider-dot");s[i].classList.remove("active"),a[i].classList.remove("active"),i=e,s[i].classList.add("active"),a[i].classList.add("active")},e.addEventListener("mouseenter",()=>clearInterval(n)),e.addEventListener("mouseleave",()=>s()),e.addEventListener("keydown",e=>{if("ArrowLeft"===e.key){const e=0===i?t.length-1:i-1;this.goToSlide(e,t,o)}else if("ArrowRight"===e.key){const e=(i+1)%t.length;this.goToSlide(e,t,o)}}),s()}initCart(){document.body.addEventListener("added_to_cart",()=>{this.updateCartCount(),this.showAddedToCartMessage()}),this.updateCartCount()}updateCartCount(){"undefined"!=typeof wc_cart_fragments_params&&fetch(wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),{method:"GET",credentials:"same-origin"}).then(e=>e.json()).then(e=>{if(e.fragments){const t=document.querySelectorAll(".cart-count");t.length&&e.fragments[".cart-count"]&&t.forEach(t=>{t.textContent=e.fragments[".cart-count"]})}}).catch(e=>console.error("Error updating cart:",e))}showAddedToCartMessage(){const e=document.createElement("div");e.className="added-to-cart-message",e.setAttribute("role","alert"),e.setAttribute("aria-live","polite"),e.innerHTML='\n            <div class="message-content">\n                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">\n                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />\n                </svg>\n                <span>Product added to cart successfully!</span>\n            </div>\n        ',document.body.appendChild(e),setTimeout(()=>{e.classList.add("show")},100),setTimeout(()=>{e.classList.remove("show"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)},3e3)}initWooCommerce(){this.initQuickView(),this.initProductGallery(),this.initQuantityButtons()}initQuickView(){document.addEventListener("click",e=>{if(e.target.closest(".quick-view-btn")){e.preventDefault();const t=e.target.closest(".quick-view-btn").dataset.productId;this.openQuickView(t)}})}openQuickView(e){"undefined"!=typeof mr_ajax&&fetch(`${mr_ajax.url}?action=mr_quick_view&product_id=${e}&nonce=${mr_ajax.nonce}`).then(e=>e.json()).then(e=>{e.success&&this.showQuickViewModal(e.data)}).catch(e=>console.error("Quick view error:",e))}showQuickViewModal(e){const t=document.createElement("div");t.className="quick-view-modal",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.innerHTML=e,document.body.appendChild(t),document.body.classList.add("modal-open"),t.addEventListener("click",e=>{(e.target===t||e.target.closest(".quick-view-close"))&&(t.remove(),document.body.classList.remove("modal-open"))});const o=e=>{"Escape"===e.key&&(t.remove(),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",o))};document.addEventListener("keydown",o);const n=t.querySelector(".single_add_to_cart_button");n&&n.addEventListener("click",e=>{e.preventDefault(),this.addToCartFromQuickView(t)})}addToCartFromQuickView(e){const t=e.querySelector("form.cart");if(!t)return;const o=new FormData(t);"undefined"!=typeof mr_ajax&&fetch(`${mr_ajax.url}?action=wc_ajax_add_to_cart&nonce=${mr_ajax.nonce}`,{method:"POST",body:o}).then(e=>e.json()).then(t=>{t.error&&t.product_url?window.location.href=t.product_url:t.fragments&&(this.updateCartFragments(t.fragments),this.showAddedToCartMessage(),setTimeout(()=>{e.remove(),document.body.classList.remove("modal-open")},1500))}).catch(e=>console.error("Add to cart error:",e))}updateCartFragments(e){Object.keys(e).forEach(t=>{document.querySelectorAll(t).forEach(o=>{o&&(o.innerHTML=e[t])})})}initProductGallery(){const e=document.querySelector(".woocommerce-product-gallery");if(!e)return;const t=e.querySelector(".wp-post-image"),o=e.querySelectorAll(".woocommerce-product-gallery__image");o.length>1&&o.forEach(e=>{e.addEventListener("click",n=>{n.preventDefault();const i=e.querySelector("img").dataset.large||e.querySelector("img").src;t&&(t.src=i),o.forEach(e=>e.classList.remove("active")),e.classList.add("active")})})}initQuantityButtons(){document.querySelectorAll('input[type="number"].qty').forEach(e=>{if(e.closest(".quantity-wrapper"))return;const t=document.createElement("div");t.className="quantity-wrapper";const o=document.createElement("button");o.type="button",o.className="quantity-btn minus",o.innerHTML="−",o.setAttribute("aria-label","Decrease quantity");const n=document.createElement("button");n.type="button",n.className="quantity-btn plus",n.innerHTML="+",n.setAttribute("aria-label","Increase quantity"),e.parentNode.insertBefore(t,e),t.appendChild(o),t.appendChild(e),t.appendChild(n),o.addEventListener("click",()=>{const t=parseInt(e.min)||1,o=parseInt(e.value)||1;o>t&&(e.value=o-1,e.dispatchEvent(new Event("change",{bubbles:!0})))}),n.addEventListener("click",()=>{const t=parseInt(e.max)||1/0,o=parseInt(e.value)||0;o<t&&(e.value=o+1,e.dispatchEvent(new Event("change",{bubbles:!0})))})})}}document.addEventListener("DOMContentLoaded",()=>{new MacedonRangesTheme}),window.MacedonRangesTheme=MacedonRangesTheme,function(e){"use strict";e(document).ready(function(){!function(){const t=new URLSearchParams(window.location.search);let o=!1;for(let e of t.keys())if(e.startsWith("attribute_")){o=!0;break}o||e(".variations select").each(function(){e(this).val("").trigger("change")})}(),e(".variations select").each(function(){const t=e(this),o=t.attr("name");if(!o||!o.toLowerCase().includes("color"))return;const n=e('<div class="color-swatches"></div>');t.find("option").each(function(){const o=e(this),i=o.val(),s=o.text();if(!i)return;const a=function(e){const t={black:"#000000",white:"#ffffff",red:"#ef4444",blue:"#3b82f6",green:"#10b981",yellow:"#fbbf24",purple:"#7c3aed",pink:"#ec4899",orange:"#f97316",gray:"#6b7280",grey:"#6b7280",brown:"#92400e",navy:"#1e3a8a",teal:"#14b8a6",cyan:"#06b6d4",lime:"#84cc16",indigo:"#6366f1",violet:"#8b5cf6",fuchsia:"#d946ef",rose:"#f43f5e",amber:"#f59e0b",emerald:"#059669",sky:"#0ea5e9",slate:"#64748b"},o=e.toLowerCase().trim();return o.startsWith("#")?o:t[o]||"#7c3aed"}(i),r=e('<div class="color-swatch"></div>');r.attr("data-value",i),r.attr("title",s),r.css("background-color",a),function(e){const t=e.replace("#",""),o=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16),i=parseInt(t.substr(4,2),16);return(299*o+587*n+114*i)/1e3>200}(a)&&r.css("border","2px solid #e5e7eb"),r.on("click",function(){n.find(".color-swatch").removeClass("selected"),e(this).addClass("selected"),t.val(i).trigger("change")}),n.append(r)}),t.hide().after(n);const i=t.val();i&&""!==i&&n.find(`[data-value="${i}"]`).addClass("selected")}),e(".variations select").each(function(){const t=e(this),o=t.attr("name");if(!o||!o.toLowerCase().includes("size"))return;const n=e('<div class="size-buttons"></div>');t.find("option").each(function(){const o=e(this),i=o.val(),s=o.text();if(!i)return;const a=e('<button type="button" class="size-button"></button>');a.attr("data-value",i),a.text(s),o.is(":disabled")&&a.prop("disabled",!0),a.on("click",function(o){o.preventDefault(),e(this).prop("disabled")||(n.find(".size-button").removeClass("selected"),e(this).addClass("selected"),t.val(i).trigger("change"))}),n.append(a)}),t.hide().after(n);const i=t.val();i&&""!==i&&n.find(`[data-value="${i}"]`).addClass("selected")})}),e(document).on("woocommerce_update_variation_values",function(){e(".size-buttons .size-button").each(function(){const t=e(this),o=t.data("value");t.parent().prev("select").find(`option[value="${o}"]`).is(":disabled")?t.prop("disabled",!0):t.prop("disabled",!1)})})}(jQuery),function(e){"use strict";class t{constructor(){this.init()}init(){this.initQuickView(),this.initProductFilters(),this.initQuantityButtons(),this.initWishlist(),this.initCompare(),this.initAjaxAddToCart(),this.initCartDrawer(),this.initProductTabs(),this.initColorSwatches()}initQuickView(){e(document).on("click",".quick-view-btn",function(t){t.preventDefault();const o=e(this).data("product-id");if(!o)return;const n=e(this),i=n.text();n.text("Loading...").prop("disabled",!0),e.ajax({url:mr_ajax.ajax_url,type:"POST",data:{action:"mr_quick_view",product_id:o,nonce:mr_ajax.nonce},success:function(t){if(t.success){const o=e('<div class="quick-view-modal">'+t.data.html+"</div>");e("body").append(o),o.find(".woocommerce-product-gallery").wc_product_gallery(),setTimeout(()=>o.addClass("visible"),10),o.on("click",".quick-view-close, .quick-view-overlay",function(){o.removeClass("visible"),setTimeout(()=>o.remove(),300)})}},error:function(){window.MRAnimations&&window.MRAnimations.showNotification("Failed to load product","error")},complete:function(){n.text(i).prop("disabled",!1)}})})}initProductFilters(){const t=e(".product-filters");if(!t.length)return;const o=t.find(".price-slider");if(o.length&&e.fn.slider){const t=parseInt(o.data("min"))||0,n=parseInt(o.data("max"))||1e3;o.slider({range:!0,min:t,max:n,values:[t,n],slide:function(t,o){e(".price-range-display").text(`$${o.values[0]} - $${o.values[1]}`)}})}t.on("submit","form",function(t){t.preventDefault();const o=e(this).serialize();e(".products").addClass("loading"),e.ajax({url:mr_ajax.ajax_url,type:"POST",data:o+"&action=mr_filter_products",success:function(t){t.success&&(e(".products").html(t.data.html),history.pushState&&history.pushState(null,null,"?"+o))},complete:function(){e(".products").removeClass("loading")}})}),t.on("click",".clear-filters",function(e){e.preventDefault(),t.find("form")[0].reset(),t.find("form").submit()})}initQuantityButtons(){e(document).on("click",".quantity-btn",function(t){t.preventDefault();const o=e(this),n=o.siblings(".qty"),i=parseInt(n.val())||0,s=parseInt(n.attr("min"))||1,a=parseInt(n.attr("max"))||999;let r=i;o.hasClass("quantity-plus")?r=i<a?i+1:a:o.hasClass("quantity-minus")&&(r=i>s?i-1:s),n.val(r).trigger("change")})}initWishlist(){e(document).on("click",".add-to-wishlist",function(t){t.preventDefault();const o=e(this),n=o.data("product-id");o.addClass("loading"),e.ajax({url:mr_ajax.ajax_url,type:"POST",data:{action:"mr_toggle_wishlist",product_id:n,nonce:mr_ajax.nonce},success:function(t){t.success&&(o.toggleClass("in-wishlist"),window.MRAnimations&&window.MRAnimations.showNotification(t.data.message,"success"),e(".wishlist-count").text(t.data.count))},complete:function(){o.removeClass("loading")}})})}initCompare(){e(document).on("click",".add-to-compare",function(t){t.preventDefault();const o=e(this),n=o.data("product-id");e.ajax({url:mr_ajax.ajax_url,type:"POST",data:{action:"mr_toggle_compare",product_id:n,nonce:mr_ajax.nonce},success:function(t){t.success&&(o.toggleClass("in-compare"),window.MRAnimations&&window.MRAnimations.showNotification(t.data.message,"success"),e(".compare-count").text(t.data.count))}})})}initAjaxAddToCart(){e(document).on("click",".ajax-add-to-cart",function(t){t.preventDefault();const o=e(this),n=o.data("product-id"),i=o.data("quantity")||1;o.addClass("loading"),e.ajax({url:mr_ajax.wc_ajax_url.replace("%%endpoint%%","add_to_cart"),type:"POST",data:{product_id:n,quantity:i},success:function(t){t.error?window.MRAnimations&&window.MRAnimations.showNotification(t.error_message,"error"):(e(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,o]),window.MRAnimations&&window.MRAnimations.showNotification("Product added to cart!","success"))},complete:function(){o.removeClass("loading")}})})}initCartDrawer(){e(document).on("click",".cart-trigger",function(t){t.preventDefault(),e(".cart-drawer").addClass("open"),e("body").addClass("cart-drawer-open")}),e(document).on("click",".cart-drawer__close, .cart-drawer__overlay",function(){e(".cart-drawer").removeClass("open"),e("body").removeClass("cart-drawer-open")})}initProductTabs(){const t=e(".woocommerce-tabs");if(!t.length)return;let o=0;if(t.find(".tabs li a").on("click",function(t){t.preventDefault(),t.stopPropagation(),o=e(window).scrollTop();const n=e(this),i=n.attr("href");return n.closest("li").addClass("active").siblings().removeClass("active"),e(i).show().addClass("active").siblings(".woocommerce-Tabs-panel").hide().removeClass("active"),n.attr("aria-selected","true").attr("tabindex","0"),n.closest("li").siblings().find("a").attr("aria-selected","false").attr("tabindex","-1"),setTimeout(function(){e(window).scrollTop(o)},0),!1}),window.location.hash&&-1!==window.location.hash.indexOf("tab-")){const t=e(window).scrollTop();setTimeout(function(){e(window).scrollTop(t)},1)}e(window).on("hashchange",function(t){const o=window.location.hash;if(o&&-1!==o.indexOf("tab-")){const t=e(window).scrollTop(),n=e('.tabs li a[href="'+o+'"]');return n.length&&(n.trigger("click"),e(window).scrollTop(t)),!1}})}initColorSwatches(){e(document).on("click",".variation-swatch",function(t){t.preventDefault();const o=e(this),n=o.data("value");o.closest(".variations").find("select").val(n).trigger("change"),o.addClass("selected").siblings().removeClass("selected")})}}e(function(){new t})}(jQuery);